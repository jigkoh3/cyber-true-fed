<div class="container" id="addDeleteEditOfferContent" ng-init="onload()">
    <div class="content-top">
    </div>
    <div class="content m_content">
        <div class="col-md-1"></div>
        <div class="col-md-11">
            <div ng-include="template.header"></div>
            <div class="clearfix"></div>
            <h1 class="content-title">สมัคร/ยกเลิก/แก้ไข บริการ : {{(Level == 'OU') ? 'ระดับแอคเคาท์ (OU LEVEL)' : 'ระดับเลขหมาย'}}</h1>
            <div class="content-body">
                <div ng-include="template.customerprofile" scope="" onload=""></div>
                <div align="center">
                    <div data-toggle="buttons" class="btn-group btn-group-justified divOfferTypeWidth btnOfferAction">
                        <label class="btn btn-default active" ng-click="changeType('C');changeOfferType();">
                            <input type="radio" name="type" ng-model="offerType" value="C"> สมัครบริการ
                        </label>
                        <label class="btn btn-default" ng-click="changeType('D');changeOfferType();">
                            <input type="radio" name="type" ng-model="offerType" value="D"> ยกเลิกบริการ
                        </label>
                        <label class="btn btn-default" ng-click="changeType('U');changeOfferType();">
                            <input type="radio" name="type" ng-model="offerType" value="U"> แก้ไขบริการ
                        </label>
                    </div>
                </div>
                <h4>ข้อมูลบริการปัจจุบัน</h4>
                <div class="table-responsive">
                    <table class="table table-bordered table-hover table-condensed" style="margin-bottom: 0px;background-color:#fff;">
                        <thead>
                            <tr class="well">
                                <th class="contentTbHeader">
                                
                                </th>
                                <th class="contentTbHeader"">
                                    Offer Name
                                </th>
                                <th class="contentTbHeader"">
                                    Offer Description
                                </th>
                                <th class="contentTbHeader"">
                                    Level
                                </th>
                                <th class="contentTbHeader"">
                                    Parent
                                </th>
                                <th class="contentTbHeader"">
                                    Effective Date
                                </th>
                                <th class="contentTbHeader"">
                                    Expiration Date
                                </th>
                                <th class="contentTbHeader"">
                                    Type
                                </th>
                            </tr>
                        </thead>
                        <tbody>
                            <!-- ### -->
                                <tr>
                                    <th class="headColor" colspan="8" style="margin-bottom: 0px;">
                                        Price Plan Built-In Offer
                                    </th>
                                </tr>
                                <tr ng-repeat="item in builtInOffer" style="margin-bottom: 0px;">
                                    <td class="contentTb" style="width: 7%">
                                        <div align="center" class="" ng-show="offerType=='C'">
                                            <button ng-disabled="!isCustomerProfile" href="#modal-view-offerDetail" data-toggle="modal" onclick="return false;" ng-click="viewOfferDetail(item); readOnlyOffer=false" style="cursor:pointer; background:none; border:none; color:#333;" type="button">
                                                <span><i class="fa fa-file-text-o editIcon-1x"></i></span>
                                            </button>
                                        </div>
                                        <div align="center" ng-show="offerType=='U'">
                                            <input id="item['product-name']" ng-disabled="!isCustomerProfile" type="checkbox" ng-model="item.selected" style="cursor: pointer;" ng-change="openEditModal(item.selected, item, item[ 'product-name']);" ng-hide="item[ 'Level']=='Agreement'">
                                            <button id="editModal" ng-show="item.selected==true" ng-disabled="!isCustomerProfile" href="#modal-edit-offerDetail" data-toggle="modal" onclick="return false;" ng-click="viewOfferDetail(item, 'edit'); readOnlyOffer=false" style="cursor:pointer; background:none; border:none; color:#333;" type="button">
                                                <span><i class="glyphicon glyphicon-pencil editIcon-1x"></i></span>
                                            </button>
                                        </div>
                                        <div align="center" ng-show="offerType=='D'">
                                            <input type="checkbox" ng-model="item.selected" ng-disabled="!isCustomerProfile" style="cursor:pointer;">
                                        </div>
                                    </td>
                                    <td class="col-xs-2 contentTb">
                                        {{item['product-name']}}
                                    </td>
                                    <td class="col-xs-4 contentTb">
                                        {{item['product-description']}}
                                    </td>
                                    <td class="col-xs-1 contentTb" style="text-align: center;">
                                        <span ng-if="item[ 'service-level']=='C'">Subscriber</span>
                                        <span ng-if="item[ 'service-level']=='G'">Agreement</span>
                                    </td>
                                    <td class="col-xs-1 contentTb">
                                        {{item['product-properties']['PARENT-SOC-NAME']}}
                                    </td>
                                    <td class="col-xs-1 contentTbCenter">
                                        {{item['effective-date']}}
                                    </td>
                                    <td class="col-xs-1 contentTbCenter">
                                        {{item['expire-date']}}
                                    </td>
                                    <td class="col-xs-1 contentTbCenter">
                                        {{item['offer-group']}}
                                    </td>
                                </tr>
                                <tr ng-show="builtInOffer==''">
                                    <td class="contentTb" colspan="8">
                                        -
                                    </td>
                                </tr>
                                <tr>
                                    <th class="headColor" colspan="8" style="margin-bottom: 0px;">
                                        Regular Offer
                                    </th>
                                </tr>
                                <tr ng-repeat="item in regularOffer" style="margin-bottom: 0px;">
                                    <td class="contentTb">
                                        <div align="center" class="" ng-show="offerType=='C'">
                                            <button ng-disabled="!isCustomerProfile" href="#modal-view-offerDetail" data-toggle="modal" onclick="return false;" ng-click="viewOfferDetail(item); readOnlyOffer=false" style="cursor:pointer; background:none; border:none; color:#333;" type="button"><span><i class="fa fa-file-text-o editIcon-1x"></i></span></button>
                                        </div>
                                        <div align="center" class="" ng-show="offerType=='U'">
                                            <input id="item[ 'offer-name']" ng-disabled="!isCustomerProfile" type="checkbox" ng-model="item.selected" style="cursor: pointer;" ng-change="openEditModal(item.selected, item, item[ 'offer-name']);" ng-hide="item[ 'Level']=='Agreement'">
                                            <button id="editModal" ng-show="item.selected==true" ng-disabled="!isCustomerProfile" href="#modal-edit-offerDetail" data-toggle="modal" onclick="return false;" ng-click="viewOfferDetail(item, 'edit'); readOnlyOffer=false" style="cursor:pointer; background:none; border:none; color:#333;" type="button"><span><i class="glyphicon glyphicon-pencil editIcon-1x"></i></span></button>
                                        </div>
                                        <div align="center" ng-show="offerType=='D'">
                                            <input type="checkbox" ng-model="deleteOffer" style="cursor:pointer;">
                                        </div>
                                    </td>
                                    <td class="contentTb">
                                        {{item['product-name']}}
                                    </td>
                                    <td class="contentTb">
                                        {{item['product-description']}}
                                    </td>
                                    <td class="contentTb" style="text-align: center;">
                                        <span ng-if="item[ 'service-level']=='C'">Subscriber</span>
                                        <span ng-if="item[ 'service-level']=='G'">Agreement</span>
                                    </td>
                                    <td class="contentTb">
                                        {{item['product-properties']['PARENT-SOC-NAME']}}
                                    </td>
                                    <td class="contentTbCenter">
                                        {{item['effective-date']}}
                                    </td>
                                    <td class="contentTbCenter">
                                        {{item['expire-date']}}
                                    </td>
                                    <td class="contentTbCenter">
                                        {{item['offer-group']}}
                                    </td>
                                </tr>
                                <tr ng-show="regularOffer==''">
                                    <td class="contentTb" colspan="8">
                                        -
                                    </td>
                                </tr>
                                <tr>
                                    <th class="headColor" colspan="8">
                                        Contract & Prop
                                    </th>
                                </tr>
                                <tr ng-repeat="item in propoOffer" style="margin-bottom: 0px;"> 
                                    <td class="contentTb">
                                        <div align="center" class="" ng-show="offerType=='C'">
                                            <button ng-disabled="!isCustomerProfile" href="#modal-view-offerDetail" data-toggle="modal" onclick="return false;" ng-click="viewOfferDetail(item); readOnlyOffer=false" style="cursor:pointer; background:none; border:none; color:#333;" type="button"><span><i class="fa fa-file-text-o editIcon-1x"></i></span></button>
                                        </div>
                                        <div align="center" class="" ng-show="offerType=='U'">
                                                <input id="item[ 'offer-name']" ng-disabled="!isCustomerProfile" type="checkbox" ng-model="item.selected" style="cursor: pointer;" ng-change="openEditModal(item.selected, item, item[ 'offer-name']);" ng-hide="item[ 'Level']=='Agreement'">
                                                <button id="editModal" ng-show="item.selected==true" ng-disabled="!isCustomerProfile" href="#modal-edit-offerDetail" data-toggle="modal" onclick="return false;" ng-click="viewOfferDetail(item, 'edit'); readOnlyOffer=false" style="cursor:pointer; background:none; border:none; color:#333;" type="button"><span><i class="glyphicon glyphicon-pencil editIcon-1x"></i></span></button>
                                            </div>
                                        <div align="center" class="" ng-show="offerType=='D'">
                                            <input type="checkbox" ng-model="deleteOffer" style="cursor:pointer;">
                                        </div>
                                    </td>
                                    <td class="contentTb">
                                        {{item['product-name']}}
                                    </td>
                                    <td class="contentTb">
                                        {{item['product-description']}}
                                    </td>
                                    <td class="contentTb" style="text-align: center;">
                                        <span ng-if="item[ 'service-level']=='C'">Subscriber</span>
                                        <span ng-if="item[ 'service-level']=='G'">Agreement</span>
                                    </td>
                                    <td class="contentTb">
                                        {{item['product-properties']['PARENT-SOC-NAME']}}
                                    </td>
                                    <td class="contentTbCenter">
                                        {{item['effective-date']}}
                                    </td>
                                    <td class="contentTbCenter">
                                        {{item['expire-date']}}
                                    </td>
                                    <td class="contentTbCenter">
                                        {{item['offer-group']}}
                                    </td>
                                </tr>
                                <tr ng-show="propoOffer==''">
                                    <td class="contentTb" colspan="8">
                                        -
                                    </td>
                                </tr>
                                <tr style="margin-bottom: 0px;">
                                    <th class="headColor" colspan="8">
                                        Discount
                                    </th>
                                </tr>
                                <tr ng-repeat="item in discountOffer" style="margin-bottom: 0px;">
                                    <td class="contentTb"">
                                        <div align="center" class="" ng-show="offerType=='C'">
                                            <button ng-disabled="!isCustomerProfile" href="#modal-view-offerDetail" data-toggle="modal" onclick="return false;" ng-click="viewOfferDetail(item); readOnlyOffer=false" style="cursor:pointer; background:none; border:none; color:#333;" type="button"><span><i class="fa fa-file-text-o editIcon-1x"></i></span></button>
                                        </div>
                                        <div align="center" class="" ng-show="offerType=='U'">
                                            <input id="item[ 'offer-name']" ng-disabled="!isCustomerProfile" type="checkbox" ng-model="item.selected" style="cursor: pointer;" ng-change="openEditModal(item.selected, item, item[ 'offer-name']);" ng-hide="item[ 'Level']=='Agreement'">
                                            <button id="editModal" ng-show="item.selected==true" ng-disabled="!isCustomerProfile" href="#modal-edit-offerDetail" data-toggle="modal" onclick="return false;" ng-click="viewOfferDetail(item, 'edit'); readOnlyOffer=false" style="cursor:pointer; background:none; border:none; color:#333;" type="button"><span><i class="glyphicon glyphicon-pencil editIcon-1x"></i></span>   </button>
                                        </div>
                                        <div align="center" class="" ng-show="offerType=='D'">
                                            <input type="checkbox" ng-model="deleteOffer" style="cursor:pointer;">
                                        </div>
                                    </td>
                                    <td class="contentTb">
                                        {{item['product-name']}}
                                    </td>
                                    <td class="contentTb">
                                        {{item['product-description']}}
                                    </td>
                                    <td class="contentTb" style="text-align: center;">
                                        <span ng-if="item[ 'service-level']=='C'">Subscriber</span>
                                        <span ng-if="item[ 'service-level']=='G'">Agreement</span>
                                    </td>
                                    <td class="contentTb">
                                        {{item['product-properties']['PARENT-SOC-NAME']}}
                                    </td>
                                    <td class="contentTbCenter">
                                        {{item['effective-date']}}
                                    </td>
                                    <td class="contentTbCenter">
                                        {{item['expire-date']}}
                                    </td>
                                    <td class="contentTbCenter">
                                        {{item['offer-group']}}
                                    </td>
                                </tr>   
                                <tr ng-show="discountOffer==''">
                                    <td class="contentTb" colspan="8">
                                        -
                                    </td>
                                </tr>
                            <!-- ### -->
                        </tbody>
                    </table>
                </div>
                
                <div ng-show="futureOfferList.length > 0">
                    <h4>Future Order</h4>
                    <!-- Future Order Table -->
                    <div class="table-responsive">
                        <table class="table table-bordered table-hover table-condensed" style="margin-bottom: 0px;">
                            <thead>
                                <tr class="well">
                                    <th class="contentTbHeader" ng-hide="offerType=='C'">
                                    
                                    </th>
                                    <th class="contentTbHeader">
                                        Offer Name
                                    </th>
                                    <th class="contentTbHeader">
                                        Offer Description
                                    </th>
                                    <th class="contentTbHeader">
                                        Create Date
                                    </th>
                                    <th class="contentTbHeader">
                                        Effective Date
                                    </th>
                                    <th class="contentTbHeader">
                                        Activities
                                    </th>
                                </tr>
                            </thead>
                            <tbody>
                                <tr ng-repeat="item in futureOfferList">
                                    <td class="contentTb" ng-hide="offerType=='C'">
                                        <div align="center" ng-show="offerType=='D'">
                                            <input type="checkbox" ng-model="deleteFutureOffer" style="cursor:pointer;">
                                        </div>
                                        <div align="center" class="" ng-show="offerType=='U'">
                                            <button ng-disabled="!isCustomerProfile" href="#modal-edit-future-offer" data-toggle="modal" onclick="return false;" ng-click="editFutureOffer(item); readOnlyOffer=false" style="cursor:pointer; background:none; border:none; color:#333;" type="button"><span><i class="glyphicon glyphicon-pencil editIcon-1x"></i></span></button>
                                        </div>
                                    </td>
                                    <td class="contentTb">
                                        {{item['product-name']}}
                                    </td>
                                    <td class="contentTb">
                                        {{item['product-description']}}
                                    </td>
                                    <!-- <td class="col-xs-1 contentTb">
                                        {{item['Level']}}
                                    </td>
                                    <td class="col-xs-1 contentTb">
                                        {{item['parent']}}
                                    </td> -->
                                    <td class="contentTbCenter">
                                        {{item['product-properties']['CREATE-DATE']}}
                                    </td>
                                    <td class="contentTbCenter">
                                        {{item['effective-date']}}
                                    </td>
                                    <td class="contentTbCenter">
                                        Add Offer
                                    </td>
                                </tr>
                            </tbody>
                        </table>
                    </div>
                </div>
                &nbsp;&nbsp;
                <div class="row" ng-show="offerType=='C'">
                    <div class="col-md-12" style="">
                        <div class="btn-group" style="bottom:10px;">
                            <button ng-disabled="!isCustomerProfile||disableAddBtn" id="addOfferBtn" class="btn btn-success btn-default" type="button" ng-model="addOfferBtn" ng-click="addOffer()">
                                <i class="fa fa-plus fa-plus">
                                    </i> สมัครบริการใหม่ &nbsp;&nbsp;
                            </button>
                        </div> 
                        <label>
                            <h4>(กรุณาเลือกบริการที่ต้องการ)</h4>
                        </label>
                    </div>
                </div>
                <div class="well" ng-show="enableAddOffer">
                    <!-- <h4>Offer แนะนำ</h4>
                    <table class="table table-striped table-bordered table-hover table-condensed" style="margin-bottom: 0px;">
                        <tr>
                            <th class="col-xs-1 contentTbHeader"">
                                <h>สมัคร</h>
                            </th>
                            <th class="col-xs-3 contentTbHeader"">
                                <h>Related Offer Name</h>
                            </th>
                            <th class="col-xs-4 contentTbHeader"">
                                <h>Offer Description</h>
                            </th>
                            <th class="col-xs-2 contentTbHeader"">
                                <h>Type</h>
                            </th>
                            <th class="col-xs-1 contentTbHeader"">
                                <h>Parameter</h>
                            </th>
                        </tr>
                    </table>
                    <table class="table table-striped table-bordered table-hover table-condensed" style="margin-bottom: 0px;">
                        <tr ng-repeat="item in releteOfferList">
                            <td class="col-xs-1 contentTbCenter">
                                <input ng-disabled="!isCustomerProfile" type="checkbox" class="styled" class="checkbox checkbox-circle2 checkbox-inline" style="cursor: pointer;">
                            </td>
                            <td class="col-xs-3 contentTb">
                                <h>{{item['offer-name']}}</h>
                            </td>
                            <td class="col-xs-4 contentTb">
                                <h>{{item['offer-description']}}</h>
                            </td>
                            <td class="col-xs-2 contentTbCenter">
                                <h>{{item['type']}}</h>
                            </td>
                            <td class="col-xs-1 contentTbCenter">
                                <div align="center" class="">
                                    <button ng-disabled="!isCustomerProfile" href="#modal-edit-offerDetail" data-toggle="modal" onclick="return false;" ng-click="editDetail(item); readOnlyOffer=false" style="cursor:pointer; background:none; border:none; color:#333;" type="button"><span><i class="glyphicon glyphicon-pencil editIcon-1x"></i></span></button>
                                </div>
                            </td>
                        </tr>
                    </table>
                    <br>
                    <br> -->
                    <div class="btn-group" style="bottom:10px;">
                        <button ng-disabled="!isCustomerProfile || disableAddOffer" href="#modal-add-offer" data-toggle="modal" id="addNewAll" onclick="$('#hModal').height(($(window).height()) - 235);return false;" class="btn btn-success" type="button" ng-click="onClearRadio('radioOffer'); searchOffer('ALL');" style="border-radius:20px; width:195px;">
                            <i class="fa fa-plus-circle pull-left fa-lg-plus"></i>
                            <div style="padding-top: 3px; padding-right: 20px">เพิ่มบริการ Offer</div>
                        </button>
                    </div>
                    <div class="btn-group" style="bottom:10px;">
                        <button ng-disabled="!isCustomerProfile || disableAddCp" href="#modal-add-offer" data-toggle="modal" id="addNewContractPropo" onclick="$('#hModal').height(($(window).height()) - 235);return false;" class="btn btn-success" type="button" ng-click="onClearRadio('radioOffer'); searchOffer('CONTRACT_PROPO');" style="border-radius:20px; width:195px;">
                            <i class="fa fa-plus-circle pull-left fa-lg-plus"></i>
                            <div style="padding-top: 3px; padding-right: 10px">เพิ่ม Contract & Prop</div>
                        </button>
                    </div>
                    <div class="btn-group" style="bottom:10px;">
                        <button ng-disabled="!isCustomerProfile || disableAddDiscount" href="#modal-add-offer" data-toggle="modal" id="addNewDiscount" onclick="$('#hModal').height(($(window).height()) - 235);return false;" class="btn btn-success" type="button" ng-click="onClearRadio('radioOffer'); searchOffer('DISCOUNT');" style="border-radius:20px; width:195px;">
                            <i class="fa fa-plus-circle pull-left fa-lg-plus"></i>
                            <div style="padding-top: 3px; padding-right: 20px"> เพิ่ม Discount</div>
                        </button>
                    </div>
                   
                    <div class="table-responsive">
                        <table ng-show="addNewOfferLists.length > 0" class="table table-bordered table-hover table-condensed" style="margin-bottom: 0px;">
                            <thead class="well">
                                <tr>
                                    <th class="contentTbHeader">
                                        ลบ
                                    </th>
                                    <th class="contentTbHeader">
                                        Regular Offer Name
                                    </th>
                                    <th class="contentTbHeader">
                                        Offer Description
                                    </th>
                                    <th class="contentTbHeader">
                                        Effective Date
                                    </th>
                                    <th class="contentTbHeader">
                                        Expiration Date
                                    </th>
                                    <th class="contentTbHeader">
                                        Type
                                    </th>
                                    <th class="contentTbHeader">
                                        Parameter
                                    </th>
                                    <!-- <th class="contentTbHeader">
                                        Level
                                    </th> -->
                                </tr>
                            </thead>
                            <tbody style="background-color:#fff;border-top: 1px;" ng-repeat="item in addNewOfferLists">
                                <tr>
                                    <td class="col-xs-1 contentTbCenter">
                                        <a style="cursor:pointer; color:red;" type="button" ng-click="deleteRegulaOfferList(item)"><span><i class="fa fa-trash-o fa-1x"></i></span></a>
                                    </td>
                                    <td class="contentTb">
                                        {{item['name']}}
                                    </td>
                                    <td class="contentTb">
                                        {{item['description']}}
                                    </td>
                                    <td class="contentTbCenter">
                                        <span ng-if="item['group']!='CONTRACT_PROPO' && item['param']['effective-date-type']=='specify'">
                                            {{item['param']['effective-date-value']}}    
                                        </span>
                                        <span ng-if="item['group']!='CONTRACT_PROPO' && item['param']['effective-date-type']=='immediate'">
                                            {{setDateNow}}    
                                        </span>
                                        <span ng-if="item['group']=='CONTRACT_PROPO'">
                                            {{item['param']['start-date']}}                                         
                                        </span>
                                    </td>
                                    <td class="contentTbCenter">
                                        <span ng-if="item['group']!='CONTRACT_PROPO'">
                                            {{item['param']['expiration-date-value']}}    
                                        </span>
                                        
                                        <span ng-if="item['group']=='CONTRACT_PROPO'">
                                            {{item['param']['expiration-date']}}                                         
                                        </span>
                                    </td>
                                    <td class="contentTbCenter">
                                        {{item['group']}}
                                    </td>
                                    <td class="contentTbCenter">
                                        <div align="center" class="">
                                            <button ng-disabled="!isCustomerProfile" href="#modal-edit-newOfferDetail" data-toggle="modal" onclick="return false;" ng-click="editDetail(item); readOnlyOffer=false" style="cursor:pointer; background:none; border:none; color:#333;" type="button"><span><i class="glyphicon glyphicon-pencil editIcon-1x"></i></span></button>
                                        </div>
                                    </td>
                                    <!-- <td class="contentTbCenter">
                                        {{item['service-level']}}
                                    </td> -->
                                </tr>
                                <tr ng-repeat="related in item['related-offers']" ng-show="item['related-offers'].length > 0">
                                    <td class="col-xs-1 contentTbCenter">
                                        <!-- <a style="cursor:pointer; color:red;" type="button" ng-click="deleteRegulaOfferList(item)"><span><i class="fa fa-trash-o fa-1x"></i></span></a> -->
                                    </td>
                                    <td class="contentTb">
                                        &nbsp;&nbsp; - {{related['offer']['name']}}
                                    </td>
                                    <td class="contentTb">
                                        {{related['offer']['description']}}
                                    </td>
                                    <td class="contentTbCenter">
                                        <!-- <span ng-if="item['param']['effective-date-type']=='specify'">
                                            {{item['param']['effective-date-value']}}    
                                        </span>
                                        <span ng-if="item['param']['effective-date-type']=='immediate'">
                                            {{setDateNow}}    
                                        </span> -->
                                    </td>
                                    <td class="contentTbCenter">
                                        <!-- {{item['param']['expiration-date-value']}} -->
                                    </td>
                                    <td class="contentTbCenter">
                                        {{related['offer']['group']}}
                                    </td>
                                    <td class="contentTbCenter">
                                        <div align="center" class="" ng-show="related['offer']['parameter-specifications'].length > 0">
                                            <button ng-disabled="!isCustomerProfile" href="#modal-edit-newOfferDetail" data-toggle="modal" onclick="return false;" ng-click="editDetail(item, related, 'editRelate'); readOnlyOffer=false" style="cursor:pointer; background:none; border:none; color:#333;" type="button"><span><i class="glyphicon glyphicon-pencil editIcon-1x"></i></span></button>
                                        </div>
                                    </td>
                                </tr>
                            </tbody>
                        </table>
                    </div>
                    <br>
                    <br>
                </div>

                <div id="modal-pdf" name="modal-pdf" tabindsex="-1" class="modal fade" data-backdrop="static" data-keyboard="false">
                    <div class="modal-dialog" style="width:85%">
                        <div class="modal-content">
                            <div class="modal-header">
                                <h4>
                                PDF
                                <button type="button" class="close" data-dismiss="modal">&times;</button>
                            </h4>
                            </div>
                            <div class="modal-body modalBodyDivStyle">
                                <iframe name="iframePDF" class="modalBodyIframeStyle" id="iframePDF" frameborder="0" scrolling="yes">
                                    <p>It appears your web browser doesn't support iframes.</p>
                                </iframe>
                            </div>
                            <div class="modal-footer">
                                <span ng-show="shopType=='0'"><input type="button" href="#modal-pdf" value="ยืนยันและพิมพ์เอกสาร" data-toggle="modal" onclick="printObjectPdf();" ng-click="confirmPrint()" class="btn btn-success"></span>
                                <span><input type="button" href="#modal-pdf" value="ยืนยัน" data-toggle="modal" ng-click="confirmPrint()" class="btn btn-success"></span>
                            </div>
                        </div>
                    </div>
                </div>
                <div class="col-md-12 form-buttons" ng-if="!isCMUser && offerType == 'C'">
                    <div class="form-group">
                        
                        <input type="submit" value="พิมพ์" class="btn btn-success" ng-click="openPDFDialog();onChkEditOffer();" ng-disabled="addNewOfferLists.length == 0 && offerType == 'C'" href="#modal-pdf" data-toggle="modal"/>
                        <input id="modalPDFOpener" type="hidden" href="#modal-pdf" data-toggle="modal" />
                        <input type="reset" value="ยกเลิก" class="btn btn-cancel" onclick="window.close()">
                    </div>
                </div>
                <div class="col-md-12 form-buttons" ng-if="isCMUser || offerType != 'C'">
                    <div class="form-group">
                        <input type="button" value="ยืนยัน" class="btn btn-success" ng-click="onChkEditOffer();" ng-disabled="addNewOfferLists.length == 0 && offerType == 'C'" href="#modalSubmit" data-toggle="modal" />
                        <input type="button" value="ยกเลิก" class="btn btn-cancel" onclick="window.close()">
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>
<!-- modal -->
<div id="modal-add-offer" tabindex="-1" class="modal fade" data-backdrop="static" data-keyboard="false" style="overflow-y: hidden;">
    <div class="modal-dialog modal_pdf_width modal-lg">
        <div class="modal-content">
            &nbsp;&nbsp;
            <div class="modalOffer-header">
                <span class="fa fa-plus-circle pull-left fa-lg-plus" style="color: #00a651;"></span>
                <div ng-if="addType=='ALL'||addType==''" style="font-size: 1.5em;">เพิ่มบริการ Offer</div>
                <div ng-if="addType=='CONTRACT_PROPO'" style="font-size: 1.5em;">เพิ่มบริการ Contract & Proposition</div>
                <div ng-if="addType=='DISCOUNT'" style="font-size: 1.5em;">เพิ่มบริการ Discount</div>
            </div>
            
            <!--<div class="modal-header">
                <button type="button" id="btnReadCardClose" class="close" data-dismiss="modal">&times;</button>
                <h5>Price Plan</h5>

            </div>-->
            <div class="modal-body">
                <div class="hModal" style="overflow:auto;overflow-x:hidden;">
                    <div class="row" ng-if="addType=='ALL'||addType==''">
                        <div class="col-md-4 text-right" style="margin-top: 9px;">
                            <b>Offer Type</b>
                        </div>
                        <div class="col-md-4">
                            <select class="form-control" ng-model="addOfferType.value" id="addOfferType" ng-change="onAddOfferType(); searchOffer('');">
                                <option value="">All</option>
                                <option value="ADDITIONAL">Additional Offer</option>
                                <option value="RELATED">Related Offer</option>
                                <option value="CUG">CUG</option>
                                <option value="FF">F&F</option>
                                <option ng-if="pooledOffer.length > 0" value="POOLING">Pooling</option>
                                <option value="CAP_MAX">Capmax</option>
                                <option value="BARRING">Barring SOC</option>
                                <option value="FUP">FUP</option>
                            </select>
                        </div>
                        <div class="col-md-4"></div>
                    </div>
                    &nbsp;
                    <div class="row" ng-show="addOfferType.value=='POOLING'">
                        <div class="col-md-4 text-right" style="margin-top: 9px;">
                            <b>Pooled Offer</b>
                        </div>
                        <div class="col-md-4">
                            <select class="form-control" ng-model="pooledOfferType" id="pooledOfferType" ng-change="searchOffer('')">
                                <option value="">--กรุณาระบุ--</option>
                                <option ng-repeat="item in pooledOffer" value="{{item['product-name']}}">{{item['product-name']}}</option>
                            </select>
                        </div>
                        <div class="col-md-4"></div>
                    </div>
                   <!--  &nbsp;
                    <div class="form-group">
                        <div class="row">
                            <div class="col-md-4 text-right" style="margin-top: 9px;">
                                <b> คีย์เวิร์ด</b>
                            </div>
                            <div class="col-md-4">
                                <input type="text" placeholder="คีย์เวิร์ด" ng-model="keywordSearchOffer" class="form-control">
                            </div> 
                            <div class="col-md-4">
                                <button class="btn btn-success" ng-click="searchOffer()" style="margin-top: 1px;"><i class="fa fa-search"></i> ค้นหา</button>
                            </div>
                        </div>
                    </div> -->
                    &nbsp;
                    <div class="form-group">
                        <div class="row" style="margin-top: -9px;">
                            <div class="col-md-4 text-right content-body" style="margin-top: 9px;">
                                <b> ค้นหา Offer Name/Offer Code</b>
                            </div>
                            <div class="col-md-4">
                                <input type="text" placeholder="ค้นหา" ng-model="txtSearchOffer" class="form-control" ng-keyup="smartSearchOffer(txtSearchOffer)">
                            </div> 
                            <div class="col-md-4">
                            </div>
                        </div>
                    </div>
                    &nbsp;
                    <div class="table-responsive">
                        <table class="table table-bordered table-hover table-condensed" style="margin-bottom: 0px;" id="tableAddOffer" ng-model="tableAddOffer" ng-show="addOfferLists.length > 0">
                            <thead>
                                <tr class="well">
                                    <th class="contentTbHeader">
                                        เลือก
                                    </th>
                                    <th class="contentTbHeader">
                                        Offer Name
                                    </th>
                                    <th class="contentTbHeader">
                                        Offer Description
                                    </th>
                                    <th class="contentTbHeader">
                                        Level
                                    </th>
                                    <th class="contentTbHeader">
                                        Sale Effective Date
                                    </th>
                                    <th class="contentTbHeader">
                                        Sale Expiration Date
                                    </th>
                                    <th class="contentTbHeader" ng-show="addOfferType.value == 'DISCOUNT'">
                                        Group
                                    </th>
                                </tr>
                            </thead>
                            <tbody>
                                <tr dir-paginate="item in addOfferLists| itemsPerPage: pageSize" pagination-id="offerList" current-page="currentPage" style="cursor:pointer;">
                                <!-- <label class="col-xs-12"> -->
                                <!-- <div class="row"> -->
                                    <td class="contentTbCenter" ng-click="radioRowClick(tableAddOffer,item)">
                                        <input id="{{item['name']}}" type="radio" name="radioOffer" ng-model="radioOffer" ng-click="radioRowClick(tableAddOffer,item)" value="{{item['name']}}" style="cursor:pointer;">
                                    </td>
                                    <td class="contentTbCenter" ng-click="radioRowClick(tableAddOffer,item)">
                                        {{item['name']}}
                                    </td>
                                    <td class="contentTb" ng-click="radioRowClick(tableAddOffer,item)">
                                        {{item['description']}}
                                    </td>
                                    <td class="contentTbCenter" ng-click="radioRowClick(tableAddOffer,item)">
                                        {{item['service-level']}}
                                    </td>
                                    <td class="contentTbCenter" ng-click="radioRowClick(tableAddOffer,item)">
                                        {{item['sale-period']['start']}}
                                    </td>
                                    <td class="contentTbCenter" ng-click="radioRowClick(tableAddOffer,item)">
                                        {{item['sale-period']['end']}}
                                    </td>
                                    <td class="contentTbCenter" ng-click="radioRowClick(tableAddOffer,item)" ng-show="addOfferType.value == 'DISCOUNT'">
                                        {{item.properties.DISCOUNT_GROUP}}
                                    </td>
                                </tr>
                                <tr ng-show="addOfferLists.length>=pageSize">
                                    <td colspan="7" class="text-center">
                                        <div dir-pagination-controls pagination-id="offerList" boundary-links="true" template-url="lib/paging/dirPagination.tpl.html?v={{runTime}}"></div>
                                    </td>
                                </tr>
                            </tbody>
                        </table>
                    </div>
                    
                    <div ng-show="addOfferLists.length == 0" class="text-center">
                        <h4 style="color:red">*ไม่พบ Offer</h4>
                    </div>
                    <!-- <div class="row" ng-if="addOfferLists.length == 0">
                        <div class="col-md-12" align="center">
                            <h3 style="color:red; text-align:center;">*ไม่พบข้อมูล Offer</h3>
                        </div>
                    </div> -->
                    <!-- <div class="row" ng-if="pooledOfferType == '' && addOfferType.value == 'POOLING'">
                        <div class="col-md-12" align="center">
                            <h3 style="color:red; text-align:center;">*กรุณาระบุ Pooled Offer</h3>
                        </div>
                    </div> -->
                    <!-- offer detail -->
                    <div ng-show="selectedOffer.group=='CUG'&& radioOffer">
                        <br>
                        <div class="row">
                                <div class="col-md-2"></div>
                                <div class="col-md-8">
                                    <input type="text" placeholder="ค้นหา CUG" ng-model="searchCug" class="form-control" ng-keyup="smartSearchCug(searchCug)">
                                </div>
                                <div class="col-md-2"></div>
                        </div>
                        &nbsp;
                        <div class="table-responsive">
                            <label class="col-xs-12">
                                <div class="row">
                                    <div class="col-xs-1">&nbsp;</div>
                                    <div class="col-xs-3">
                                        <span><b> Group ID</b></span>
                                    </div>
                                    <div class="col-xs-8 text-center">
                                        <span><b> Group Name</b></span>
                                    </div>
                                </div>
                            </label>
                            <table class="table" style="width: 98%; margin-bottom: 0px;">
                            <!--<tr class="row" ng-repeat="item in cugList | filter: saveDataCUG.filter">-->
                                <tr class="row" dir-paginate="item in cugList | filter: onSearchCUG  | itemsPerPage: pageSize_cug" current-page="currentPage_cug" pagination-id="cugList">
                                    <th style="padding: 5px; padding-bottom: 0px;">
                                        <label class="col-xs-12" style="cursor:pointer;" ng-click="onSelectCUG(item)">
                                            <div class="row">
                                                <div class="col-xs-1"><input name="paramCug" type="radio" class="radioCUG" value="{{item['group-id']}}" ng-model="cugParam['group-id']"/></div>
                                                <div class="col-xs-3">{{item['group-id']}}</div>
                                                <div class="col-xs-8 text-center">{{item['group-name']}}</div>
                                            </div>
                                        </label>
                                    </th>
                                </tr>
                                <tr>
                                    <td colspan="5" class="text-center" style="margin-bottom: 0px;">
                                        <style>
                                            .pagination {
                                                margin: 0;
                                            }
                                        </style>
                                        <div dir-pagination-controls pagination-id="cugList" boundary-links=" true" template-url="lib/paging/dirPagination.tpl.html?v=3456785999000"></div>
                                    </td>
                                </tr>
                            </table>
                        </div>
                    </div>
                    <div ng-show="selectedOffer.group=='FF'&& radioOffer" style="padding: 20px;">
                        <div class="form-group row">
                            <div class="col-md-3 text-right" style="top:9px;">
                                F&F <span style="color:red;">*</span>
                            </div>
                            <div class="col-md-3" ng-show="ffData.max >= 1">
                                <input type="text" placeholder="" maxlength="10" class="form-control telephone" id="txtFF1" ng-model="saveParamData.ff1" ng-blur="onCheckFF();" ng-number-only="ifff" ng-keyup="onInputFF($event.keyCode);">
                            </div>
                            <div class="col-md-3" ng-show="ffData.max >= 2">
                                <input type="text" placeholder="" maxlength="10" class="form-control telephone" id="txtFF2" ng-model="saveParamData.ff2" ng-blur="onCheckFF();" ng-number-only="ifff" ng-keyup="onInputFF($event.keyCode);">
                            </div>
                        </div>
                        <div class="form-group row" ng-show="ffData.max >= 3">
                            <div class="col-md-3">
                            </div>
                            <div class="col-md-3" ng-show="ffData.max >= 3">
                                <input type="text" placeholder="" maxlength="10" class="form-control telephone" id="txtFF3" ng-model="saveParamData.ff3" ng-blur="onCheckFF();" ng-number-only="ifff" ng-keyup="onInputFF($event.keyCode);">
                            </div>
                            <div class="col-md-3" ng-show="ffData.max >= 4">
                                <input type="text" placeholder="" maxlength="10" class="form-control telephone" id="txtFF4" ng-model="saveParamData.ff4" ng-blur="onCheckFF();" ng-number-only="ifff" ng-keyup="onInputFF($event.keyCode);">
                            </div>
                        </div>
                        <div class="form-group row" ng-show="ffData.max >= 5">
                            <div class="col-md-3">
                            </div>
                            <div class="col-md-3" ng-show="ffData.max >= 5">
                                <input type="text" placeholder="" maxlength="10" class="form-control telephone" id="txtFF5" ng-model="saveParamData.ff5" ng-blur="onCheckFF();" ng-number-only="ifff" ng-keyup="onInputFF($event.keyCode);">
                            </div>
                            <div class="col-md-3" ng-show="ffData.max >= 6">
                                <input type="text" placeholder="" maxlength="10" class="form-control telephone" id="txtFF6" ng-model="saveParamData.ff6" ng-blur="onCheckFF();" ng-number-only="ifff" ng-keyup="onInputFF($event.keyCode);">
                            </div>
                        </div>
                        <div class="form-group row" ng-show="ffData.max >= 7">
                            <div class="col-md-3">
                            </div>
                            <div class="col-md-3" ng-show="ffData.max >= 7">
                                <input type="text" placeholder="" maxlength="10" class="form-control telephone" id="txtFF7" ng-model="saveParamData.ff7" ng-blur="onCheckFF();" ng-number-only="ifff" ng-keyup="onInputFF($event.keyCode);">
                            </div>
                            <div class="col-md-3" ng-show="ffData.max >= 8">
                                <input type="text" placeholder="" maxlength="10" class="form-control telephone" id="txtFF8" ng-model="saveParamData.ff8" ng-blur="onCheckFF();" ng-number-only="ifff" ng-keyup="onInputFF($event.keyCode);">
                            </div>
                        </div>
                        <div class="form-group row" ng-show="ffData.max >= 9">
                            <div class="col-md-3">
                            </div>
                            <div class="col-md-3" ng-show="ffData.max >= 9">
                                <input type="text" placeholder="" maxlength="10" class="form-control telephone" id="txtFF9" ng-model="saveParamData.ff9" ng-blur="onCheckFF();" ng-number-only="ifff" ng-keyup="onInputFF($event.keyCode);">
                            </div>
                            <div class="col-md-3" ng-show="ffData.max >= 10">
                                <input type="text" placeholder="" maxlength="10" class="form-control telephone" id="txtFF10" ng-model="saveParamData.ff10" ng-blur="onCheckFF();" ng-number-only="ifff" ng-keyup="onInputFF($event.keyCode);">
                            </div>
                        </div>
                        <div class="row">
                            <div class="col-md-3">
                            </div>
                            <div class="col-md-6" style="text-align:center;">
                                <span ng-span-number-only="ifff" class="hide" style="color:red;">
                                    กรุณากรอกเฉพาะตัวเลขเท่านั้น
                                </span>
                                <span ng-show="isNumberTelLengthFF" style="color:red;">
                                    กรุณากรอกหมายเลข9-10ตัว
                                </span>
                                <span ng-show="isNumberTelZeroFF" style="color:red;">
                                    กรุณากรอก 0 เป็นตัวแรก
                                </span>
                            </div>
                            <div class="col-md-3">
                            </div>
                        </div>
                        <br>
                        <div class="row">
                            <div class="col-md-12" style="color:red;text-align:center;">
                                <span>
                                    กรุณาระบุเลขหมายเลขคนสนิท(Friend & Family) อย่างน้อย {{selectedOffer['parameter-specifications'][0].min}} เบอร์
                                </span>
                            </div>
                        </div>
                    </div>
                    <div ng-show="(selectedOffer.group=='ADDITIONAL' || selectedOffer.group=='POOLING') && radioOffer && selectedOffer['parameter-specifications'].length > 0" style="padding: 20px;">
                        <div class="form-group row" ng-repeat="item in selectedOffer['parameter-specifications']">
                            <div class="col-xs-1">
                            </div>
                            <div class="col-xs-4" style=" text-align: right; top: 5px;">
                                <label>{{item['name']}}</label> <span ng-if="item['required']==true" style="color:red;">*</span>
                            </div>
                            <div class="col-xs-4">
                                <div class="form-group has-feedback">
                                    <input ng-if="item['data-type']=='TEXT'&&!item['valid-values']" type="text" ng-model="item['select-value']" class="form-control" ng-keyup="validateAddAD();">
                                    <input ng-if="item['data-type']=='NUMBER'&&!item['valid-values']" type="text" ng-model="item['select-value']" class="form-control" ng-number-only="{{item['name']}}" ng-keyup="validateAddAD();">
                                    <span ng-span-number-only="{{item['name']}}" class="hide" style="color:red;">
                                        กรุณากรอกเฉพาะตัวเลขเท่านั้น
                                    </span>
                                    <select ng-if="item['data-type']=='TEXT'&&item['valid-values']"  class="form-control" ng-options="option.value for option in item['option-values'] track by option.id" ng-model="item['select-value']" ng-change="validateAddAD();"></select>
                                </div>
                            </div>
                            <div class="col-xs-2"></div>
                        </div>
                           <!--  <div class="form-group row">
                                <div class="col-xs-2">
                                </div>
                                <div class="col-xs-4" style=" text-align: right; top: 5px;">
                                    <label>TR_ACTUAL_CONTRACT_START_DATE</label>
                                </div>
                                <div class="col-xs-4">
                                    <div class="form-group has-feedback">
                                        <input name="birthDay" type="text" ng-model="trActualContractStartDate" class="form-control date-picker dateFormat" maxlength="10" required>
                                        <span class="form-control-feedback is-bound"><i class="fa fa-calendar"></i></span>
                                    </div>
                                </div>
                                <div class="col-xs-2">
                                </div>
                            </div>
                            <div class="form-group row">
                                <div class="col-xs-2">
                                </div>
                                <div class="col-xs-4" style=" text-align: right; top: 5px;">
                                    <label>TR_ORIG_CONTRACT_EXPIRE_DATE</label>
                                </div>
                                <div class="col-xs-4">
                                    <div class="form-group has-feedback">
                                        <input name="birthDay" type="text" ng-model="trOrigContractExpireDate" class="form-control date-picker dateFormat" maxlength="10" required>
                                        <span class="form-control-feedback is-bound"><i class="fa fa-calendar"></i></span>
                                    </div>
                                </div>
                                <div class="col-xs-2">
                                </div>
                            </div>
                            <div class="form-group row">
                                <div class="col-xs-2">
                                </div>
                                <div class="col-xs-4" style=" text-align: right; top: 5px;">
                                    <label>TR_CONTRACT_FEE</label>
                                </div>
                                <div class="col-xs-4">
                                    <input type="text" ng-model="trContractFee" class="form-control">
                                </div>
                                <div class="col-xs-2">
                                </div>
                            </div>
                            <div class="form-group row">
                                <div class="col-xs-2">
                                </div>
                                <div class="col-xs-4" style=" text-align: right; top: 5px;">
                                    <label>TR_CONTRACT_NUMBER</label>
                                </div>
                                <div class="col-xs-4">
                                    <input type="text" ng-model="trContractNumber" class="form-control">
                                </div>
                                <div class="col-xs-2">
                                </div>
                            </div>
                            <div class="form-group row">
                                <div class="col-xs-2">
                                </div>
                                <div class="col-xs-4" style=" text-align: right; top: 5px;">
                                    <label>TR_GENERATE_CHARGE_YES_NO</label>
                                </div>
                                <div class="col-xs-4">
                                    <select type="text" ng-model="trGenerateChargeYesNo" class="form-control" id="trGenerateChargeYesNo" ng-init="trGenerateChargeYesNo =''">
                                        <option value="">--กรุณาเลือก--</option>
                                        <option value="Y">Y</option>
                                        <option value="N">N</option>
                                    </select>
                                </div>
                                <div class="col-xs-2">
                                </div>
                            </div>
                            <div class="form-group row">
                                <div class="col-xs-2">
                                </div>
                                <div class="col-xs-4" style=" text-align: right; top: 5px;">
                                    <label>TR_CONTRACT_TERM</label>
                                </div>
                                <div class="col-xs-4">
                                    <input type="text" ng-model="trContractTerm" class="form-control">
                                </div>
                                <div class="col-xs-2">
                                </div>
                            </div>
                            <div class="form-group row">
                                <div class="col-xs-2">
                                </div>
                                <div class="col-xs-4" style=" text-align: right; top: 5px;">
                                    <label>TR_CONTRACT_REMARK</label>
                                </div>
                                <div class="col-xs-4">
                                    <input type="text" ng-model="trContractRemark" class="form-control">
                                </div>
                                <div class="col-xs-2">
                                </div>
                            </div> -->
                    </div>
                    <div ng-show="selectedOffer.group=='CONTRACT_PROPO' && radioOffer" style="padding: 20px;">
                            <div class="form-group row">
                                <div class="col-xs-1">
                                </div>
                                <div class="col-xs-4" style=" text-align: right; top: 5px;">
                                    <label>Proposition Code</label>
                                </div>
                                <div class="col-xs-4">
                                    <input ng-disabled="true" type="text" ng-model="cpPropCode" class="form-control">
                                </div>
                                <div class="col-xs-2">
                                </div>
                            </div>
                            <div class="form-group row">
                                <div class="col-xs-1">
                                </div>
                                <div class="col-xs-4" style=" text-align: right; top: 5px;">
                                    <label>Proposition Description</label>
                                </div>
                                <div class="col-xs-4">
                                    <input ng-disabled="true" type="text" ng-model="cpPropDesc" class="form-control">
                                </div>
                                <div class="col-xs-2">
                                </div>
                            </div>
                            <div class="form-group row">
                                <div class="col-xs-1">
                                </div>
                                <div class="col-xs-4" style=" text-align: right; top: 5px;">
                                    <label>Contract Number</label><span style="color: red">*</span>
                                </div>
                                <div class="col-xs-4">
                                    <input type="text" ng-model="cpContractNumber" class="form-control" ng-number-only="inputCpCN" maxlength="10" ng-keyup="validateAddCp()">
                                    <span ng-span-number-only="inputCpCN" class="hide" style="color:red;">
                                        กรุณากรอกเฉพาะตัวเลขเท่านั้น
                                    </span>
                                </div>
                                <div class="col-xs-2">
                                </div>
                            </div>
                            <div class="form-group row">
                                <div class="col-xs-1">
                                </div>
                                <div class="col-xs-4" style=" text-align: right; top: 5px;">
                                    <label>Term</label><span style="color: red">*</span>
                                </div>
                                <div class="col-xs-4">
                                    <input type="text" ng-model="cpTerm" class="form-control" ng-number-only="inputCpTerm" disabled>
                                    <span ng-span-number-only="inputCpTerm" class="hide" style="color:red;">
                                        กรุณากรอกเฉพาะตัวเลขเท่านั้น
                                    </span>
                                </div>
                                <div class="col-xs-2">
                                </div>
                            </div>
                            <div class="form-group row">
                                <div class="col-xs-1">
                                </div>
                                <div class="col-xs-4" style=" text-align: right; top: 5px;">
                                    <label>Fee</label><span style="color: red">*</span>
                                </div>
                                <div class="col-xs-4">
                                    <input type="text" ng-model="cpFee" class="form-control" id="cpFee" ng-number-only="inputCpFee" disabled>
                                    <span ng-span-number-only="inputCpFee" class="hide" style="color:red;">
                                        กรุณากรอกเฉพาะตัวเลขเท่านั้น
                                    </span>
                                </div>
                                <div class="col-xs-2">
                                </div>
                            </div>
                            <div class="form-group row">
                                <div class="col-xs-1">
                                </div>
                                <div class="col-xs-4" style=" text-align: right; top: 5px;">
                                    <label>Start Date</label><span style="color: red">*</span>
                                </div>
                                <div class="col-xs-4">
                                    <div class="has-feedback">
                                        <input name="birthDay" type="text" id="cpStartDate" ng-model="cpStartDate" class="form-control date-picker-today-en dateFormat" maxlength="10" requireds ng-keyup="validateAddCp()">
                                        <span class="form-control-feedback is-bound"><i class="fa fa-calendar"></i></span>
                                    </div>
                                </div>
                                <div class="col-xs-2">
                                </div>
                            </div>
                            <div class="form-group row">
                                <div class="col-xs-1">
                                </div>
                                <div class="col-xs-4" style=" text-align: right; top: 5px;">
                                    <label>Expiration Date</label><span style="color: red">*</span>
                                </div>
                                <div class="col-xs-4">
                                    <div class="has-feedback">
                                        <input name="birthDay" type="text" id="cpExpireDate" ng-model="cpExpireDate" class="form-control date-picker-today-en dateFormat" maxlength="10" required ng-keyup="validateAddCp()">
                                        <span class="form-control-feedback is-bound"><i class="fa fa-calendar"></i></span>
                                    </div>
                                </div>
                                <div class="col-xs-2">
                                </div>
                            </div>
                            <div class="form-group row">
                                <div class="col-xs-1">
                                </div>
                                <div class="col-xs-4" style=" text-align: right; top: 5px;">
                                    <label>Remark</label><span style="color: red">*</span>
                                </div>
                                <div class="col-xs-4">
                                    <input name="cpRemark" type="text" ng-model="cpRemark" class="form-control" ng-keyup="validateAddCp()">
                                </div>
                                <div class="col-xs-2">
                                </div>
                            </div>
                    </div>
                    <!-- <div ng-show="selectedOffer.group=='DISCOUNT' && radioOffer" style="padding: 20px;">
                    </div> -->
                    <!-- offer effective & expiration date -->
                    <br>
                    <div ng-show="radioOffer && selectedOffer.group!='CONTRACT_PROPO'" style="border-top: 1px solid #e5e5e5;">
                        <br>
                        <div class="form-group">
                            <div class="row">
                                <div class="col-xs-1">
                                </div>
                                <div class="col-xs-3" style=" text-align: right; top: 5px;">
                                    <label>วันที่มีผล (Effective Date)</label><span style="color:red;">*</span>
                                </div>
                                <div class="col-xs-7">
                                    <div class="col-xs-5" style="top:5px;">
                                        <label style="cursor: pointer;">
                                            <input style="cursor: pointer;" type="radio" ng-model="offerEffectiveDate" value="immediate" ng-change="onEffectiveChange();"> ทันที (Immediate)
                                        </label>
                                    </div>
                                    <div class="col-xs-7">
                                        <div class="form-group has-feedback">
                                            <div class="col-xs-5" style="top:5px;">
                                                <label style="cursor: pointer;">
                                                    <input style="cursor: pointer;" type="radio" ng-model="offerEffectiveDate" value="specify" style="cursor: pointer;" ng-change="onEffectiveChange();" > ระบุวันที่
                                                </label>
                                            </div>
                                            <div class="col-xs-7" style="margin-top:-5px; margin-bottom:-5px;left:-10%">
                                                <div class="form-group has-feedback imp" style="top:5px;">
                                                    <input type="text" ng-model="addNewOfferEffectiveDate" id="addNewOfferEffectiveDate" class="form-control dateManual date-picker-start-en dateFormat" style="width:120%;" maxlength="10" ng-disabled="offerEffectiveDate=='immediate'">
                                                    <span class="form-control-feedback is-bound" style="right: -20%;"><i class="fa fa-calendar"></i></span>
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                                <div class="col-xs-1"></div>
                            </div>
                        </div>
                        <div class="form-group"">
                            <div class="row">
                                <div class="col-xs-1">
                                </div>
                                <div class="col-xs-3" style=" text-align: right; top: 5px;">
                                    <label>วันที่หมดอายุ (Expiration Date)</label><span style="color:red;">*</span>
                                </div>
                                <div class="col-xs-7" ng-show="selectedOffer['properties']['DISCOUNT_GROUP']=='CVG' || selectedOffer['properties']['DISCOUNT_GROUP']=='EMP' || !selectedOffer['properties']['DISCOUNT_GROUP'].length">
                                    <div class="col-xs-5" style="top:5px;">
                                        <label style="cursor: pointer;">
                                            <input style="cursor: pointer;" type="radio" name="offerExpirationDate" ng-model="offerExpirationDate" value="unlimited" ng-change="onExpirationChange();"> ไม่มีกำหนด (Unlimited)
                                        </label>
                                    </div>
                                    <div class="col-xs-7">
                                        <div class="form-group has-feedback">
                                            <div class="col-xs-5" style="top:5px;">
                                                <label style="cursor: pointer;">
                                                    <input style="cursor: pointer;" type="radio" name="offerExpirationDate" ng-model="offerExpirationDate" ng-model="" value="specify" style="cursor: pointer;" ng-change="onExpirationChange();">ระบุวันที่
                                                </label>
                                            </div>
                                            <div class="col-xs-7" style="margin-top:-5px; margin-bottom:-5px;left:-10%">
                                                <div class="form-group has-feedback imp" style="top:5px;">
                                                    <input type="text" ng-model="addNewOfferExpirationDate" id="addNewOfferExpirationDate" class="form-control dateManual date-picker-start-en dateFormat" style="width:120%;" maxlength="10" ng-disabled="offerExpirationDate=='unlimited'">
                                                    <!-- <input type="text" ng-model="addNewOfferExpirationDate" id="addNewOfferExpirationDateDiscount" class="form-control dateManual date-picker-expiredate-discount dateFormat" style="width:120%;" maxlength="10" ng-disabled="offerExpirationDate=='unlimited'" ng-show="selectedOffer.group=='DISCOUNT'"> -->
                                                    <span class="form-control-feedback is-bound" style="right: -20%;"><i class="fa fa-calendar"></i></span>
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                                <div class="col-xs-7" ng-show="selectedOffer['properties']['DISCOUNT_GROUP'].length > 0 && selectedOffer['properties']['DISCOUNT_GROUP']!='CVG' && selectedOffer['properties']['DISCOUNT_GROUP']!='EMP'">
                                    <div class="col-xs-7">
                                        <div class="form-group">
                                            <div class="col-xs-4" style="top:5px;left:3px;">
                                                <!-- <label style="cursor: pointer;"> -->
                                                    ระบุวันที่
                                                <!-- </label> -->
                                            </div>
                                            <div class="col-xs-7" style="margin-top:-5px; margin-bottom:-5px;left:-10%">
                                                <div class="form-group has-feedback imp" style="top:5px;">
                                                    <input type="text" ng-model="addNewOfferExpirationDate" id="addNewOfferExpirationDate2" class="form-control dateManual date-picker-start-en dateFormat" style="width:120%;" maxlength="10" ng-disabled="disableExpDateDiscount">
                                                    <span class="form-control-feedback is-bound" style="right: -20%;"><i class="fa fa-calendar"></i></span>
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                                <div class="col-xs-1"></div>
                            </div>
                        </div>
                    </div>

                    <div ng-show="radioOffer && selectedOffer['related-offers'].length>0" style="border-top: 1px solid #e5e5e5;">
                        <br>
                        <h4>Relate Offer</h4>
                        &nbsp;
                        <div class="table-responsive">
                            <table class="table table-bordered table-hover table-condensed" style="margin-bottom: 0px;" id="tableRelatedOffer">
                                <thead>
                                    <tr class="well">
                                        <th class="contentTbHeader">
                                            เลือก
                                        </th>
                                        <th class="contentTbHeader">
                                            Offer Name
                                        </th>
                                        <th class="contentTbHeader">
                                            Offer Description
                                        </th>
                                        <!-- <th class="contentTbHeader">
                                            Level
                                        </th>
                                        <th class="contentTbHeader">
                                            Sale Effective Date
                                        </th>
                                        <th class="contentTbHeader">
                                            Sale Expiration Date
                                        </th> -->
                                        <th class="contentTbHeader" ng-show="addOfferType.value == 'DISCOUNT'">
                                            Group
                                        </th>
                                        <th class="contentTbHeader">
                                            Param
                                        </th>
                                    </tr>
                                </thead>
                                <tbody>
                                    <tr dir-paginate="relatedOffer in selectedOffer['related-offers'] | itemsPerPage: pageSize" pagination-id="relatedOfferList" current-page="currentPage" style="cursor:pointer;" class="idActive" id="{{relatedOffer['offer']['name']}}">
                                        <td class="contentTbCenter" ng-click="onSelectRelateOffer(relatedOffer);select(relatedOffer['offer']['name']);">
                                            <input type="checkbox" name="radioRelatedOffer" value="true" style="cursor:not-allowed;" checked disabled>
                                        </td>
                                        <td class="contentTbCenter" ng-click="onSelectRelateOffer(relatedOffer);select(relatedOffer['offer']['name']);">
                                            {{relatedOffer['offer']['name']}}
                                        </td>
                                        <td class="contentTb" ng-click="onSelectRelateOffer(relatedOffer);select(relatedOffer['offer']['name']);">
                                            {{relatedOffer['offer']['description']}}
                                        </td>
                                        <!-- <td class="contentTbCenter" ng-click="onSelectRelateOffer(relatedOffer);select(relatedOffer['offer']['name']);">
                                            {{relatedOffer['offer']['service-level']}}
                                        </td>
                                        <td class="contentTbCenter" ng-click="onSelectRelateOffer(relatedOffer);select(relatedOffer['offer']['name']);">
                                            {{relatedOffer['offer']['sale-period']['start']}}
                                        </td>
                                        <td class="contentTbCenter" ng-click="onSelectRelateOffer(relatedOffer);select(relatedOffer['offer']['name']);">
                                            {{relatedOffer['offer']['sale-period']['end']}}
                                        </td> -->
                                        <td class="contentTbCenter" ng-show="addOfferType.value == 'DISCOUNT'" ng-click="onSelectRelateOffer(relatedOffer);select(relatedOffer['offer']['name']);">
                                            {{relatedOffer['offer']['properties']['DISCOUNT_GROUP']}}
                                        </td>
                                        <td class="contentTbCenter" ng-click="onSelectRelateOffer(relatedOffer);select(relatedOffer['offer']['name']);">
                                            <i ng-show="relatedOffer['offer']['parameter-specifications'].length > 0" class="glyphicon glyphicon-option-horizontal editIcon-1x"></i>
                                        </td>
                                    </tr>
                                    <tr ng-show="selectedOffer['related-offers']['offer'].length>=pageSize">
                                        <td colspan="7" class="text-center">
                                            <div dir-pagination-controls pagination-id="relatedOfferList" boundary-links="true" template-url="lib/paging/dirPagination.tpl.html?v={{runTime}}"></div>
                                        </td>
                                    </tr>
                                </tbody>
                            </table>
                        </div>
                        &nbsp;
                        <div ng-show="selectedRelateOffer.offer['parameter-specifications'].length > 0">
                            <div class="form-group row" ng-repeat="item in selectedRelateOffer.offer['parameter-specifications']">
                                <div class="col-xs-1">
                                </div>
                                <div class="col-xs-4" style=" text-align: right; top: 5px;">
                                    <label>{{item['name']}}</label> <span ng-if="item['required']==true" style="color:red;">*</span>
                                </div>
                                <div class="col-xs-4">
                                    <div class="form-group has-feedback">
                                        <input ng-if="item['data-type']=='TEXT'&&!item['valid-values']" type="text" ng-model="item['select-value']" class="form-control" ng-keyup="validateAddAD();">
                                        <input ng-if="item['data-type']=='NUMBER'&&!item['valid-values']" type="text" ng-model="item['select-value']" class="form-control" ng-number-only="{{item['name']}}" ng-keyup="validateAddAD();">
                                        <span ng-span-number-only="{{item['name']}}" class="hide" style="color:red;">
                                                กรุณากรอกเฉพาะตัวเลขเท่านั้น
                                        </span>
                                        <select ng-if="item['data-type']=='TEXT'&&item['valid-values']"  class="form-control" ng-options="option.value for option in item['option-values'] track by option.id" ng-model="item['select-value']" ng-change="validateAddAD();"></select>
                                    </div>
                                </div>
                                <div class="col-xs-2"></div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
            <div class="modal-footer" style=" padding-top: 0;">
                <button type="button" class="btn btn-success" data-dismiss="modal" ng-disabled="disableSubmitAddOffer" ng-click="validateOffer(selectedOffer);">ตกลง</button>
                <button type="button" class="btn btn-cancel" data-dismiss="modal" ng-click="onClearRadio('radioOffer');">ยกเลิก</button>
            </div>
        </div>
    </div>
</div>

<!-- Start modal-edit-newOfferDetail -->
<div id="modal-edit-newOfferDetail" tabindex="-1" class="modal fade" data-backdrop="static" data-keyboard="false">
    <div class="modal-dialog modal-lg">
        <div class="modal-content">
            &nbsp;&nbsp;
            <div class="modalOffer-header">
                <span class="fa fa-pencil-square pull-left fa-lg-plus" style="color: #00a651;"></span>
                <div style="font-size: 1.5em;">รายละเอียด Parameter</div>
            </div>
            <div class="modal-body">
                <div class="hModal" style="overflow:auto;overflow-x:hidden;">
                    <div calss="form-group">
                        <div class="row">
                            <div class="col-md-3">
                            </div>
                            <div class="col-md-2 text-right" style="top: 5px; font-weight: bold; font-size:16px;">
                                <label>Offer Code</label>
                            </div>
                            <div class="col-md-4">
                                <input type="text" id="adOfferCode" ng-model="editOfferCode" class="form-control" style="border-style: none; background: none;" disabled>
                            </div>
                            <div class="col-md-3">
                            </div>
                        </div> &nbsp;
                    </div>
                    <div calss="form-group">
                        <div class="row">
                            <div class="col-md-3">
                            </div>
                            <div class="col-md-2 text-right" style="top: 5px; font-weight: bold; font-size:16px;">
                                <label>Offer Description</label>
                            </div>
                            <div class="col-md-7">
                                <input type="text" id="adOfferOfferDesc" ng-model="editOfferDesc" class="form-control" style="border-style: none; background: none;" disabled>
                            </div>
                            <!-- <div class="col-md-3"> -->
                            <!-- </div> -->
                        </div>
                    </div> &nbsp;
                    <!-- <br> -->
                    <!-- <br> -->
                   <!--  <label style="cursor: pointer;">
                        <input type="checkbox" ng-model="editParam" id="editParam"> &nbsp;
                        <span style="font-weight: bold; font-size:16px;"> Parameter</span>
                    </label> -->
                    <!-- <div ng-show="editParam"> -->
                    <div>
                        <div ng-show="dataForEdit.group=='CUG'">
                            <br>
                            <div class="modal-body">
                            <div class="row">
                                <div class="col-md-2"></div>
                                <div class="col-md-8">
                                    <input type="text" placeholder="ค้นหา CUG" ng-model="searchCugForEdit" class="form-control" ng-keyup="smartSearchCug(searchCugForEdit); chkCugValue('edit');">
                                </div>
                                <div class="col-md-2"></div>
                            </div>
                            &nbsp;
                            <div class="table-responsive">
                                <label class="col-xs-12">
                                    <div class="row">
                                        <div class="col-xs-1">&nbsp;</div>
                                        <div class="col-xs-3">
                                            <span><b> Group ID</b></span>
                                        </div>
                                        <div class="col-xs-8 text-center">
                                            <span><b> Group Name</b></span>
                                        </div>
                                    </div>
                                </label>
                                <table class="table" style="width: 98%; margin-bottom: 0px;">
                                <!--<tr class="row" ng-repeat="item in cugList | filter: saveDataCUG.filter">-->
                                    <tr class="row" dir-paginate="item in cugList | filter: onSearchCUG  | itemsPerPage: pageSize_cug" current-page="currentPage_cug" pagination-id="cugList">

                                        <th style="padding: 5px; padding-bottom: 0px;">
                                            <label class="col-xs-12" style="cursor:pointer;" ng-click="onEditCUGParam(item)">
                                                <div class="row">
                                                    <div class="col-xs-1"><input name="paramCugEdit" type="radio" class="radioCUG" value="{{item['group-id']}}" ng-change="chkValueAddNewOffer('edit')" ng-model="editCugParam" id="{{item['group-id']}}"></div>
                                                    <div class="col-xs-3">{{item['group-id']}}</div>
                                                    <div class="col-xs-8 text-center">{{item['group-name']}}</div>
                                                </div>
                                            </label>
                                        </th>
                                    </tr>
                                    <tr>
                                        <td colspan="5" class="text-center" style="margin-bottom: 0px;">
                                            <style>
                                                .pagination {
                                                    margin: 0;
                                                }
                                            </style>
                                            <div dir-pagination-controls pagination-id="cugList" boundary-links=" true" template-url="lib/paging/dirPagination.tpl.html?v=3456785999000"></div>
                                        </td>
                                    </tr>
                                </table>
                            </div>
                            </div>
                        </div>
                        <div ng-show="dataForEdit.group=='FF'" style="padding: 20px;">
                            <div class="form-group row">
                            <div class="col-md-3 text-right" style="top:9px;">
                                F&F <span style="color:red;">*</span>
                            </div>
                            <div class="col-md-3" ng-show="ffData.max >= 1">
                                <input type="text" placeholder="" maxlength="10" class="form-control telephone" id="txtFF1" ng-model="saveParamData.ff1" ng-blur="onCheckFF();" ng-number-only="ifff" ng-keyup="onInputFF($event.keyCode);">
                            </div>
                            <div class="col-md-3" ng-show="ffData.max >= 2">
                                <input type="text" placeholder="" maxlength="10" class="form-control telephone" id="txtFF2" ng-model="saveParamData.ff2" ng-blur="onCheckFF();" ng-number-only="ifff" ng-keyup="onInputFF($event.keyCode);">
                            </div>
                            </div>
                            <div class="form-group row" ng-show="ffData.max >= 3">
                            <div class="col-md-3">
                            </div>
                            <div class="col-md-3" ng-show="ffData.max >= 3">
                                <input type="text" placeholder="" maxlength="10" class="form-control telephone" id="txtFF3" ng-model="saveParamData.ff3" ng-blur="onCheckFF();" ng-number-only="ifff" ng-keyup="onInputFF($event.keyCode);">
                            </div>
                            <div class="col-md-3" ng-show="ffData.max >= 4">
                                <input type="text" placeholder="" maxlength="10" class="form-control telephone" id="txtFF4" ng-model="saveParamData.ff4" ng-blur="onCheckFF();" ng-number-only="ifff" ng-keyup="onInputFF($event.keyCode);">
                            </div>
                            </div>
                            <div class="form-group row" ng-show="ffData.max >= 5">
                            <div class="col-md-3">
                            </div>
                            <div class="col-md-3" ng-show="ffData.max >= 5">
                                <input type="text" placeholder="" maxlength="10" class="form-control telephone" id="txtFF5" ng-model="saveParamData.ff5" ng-blur="onCheckFF();" ng-number-only="ifff" ng-keyup="onInputFF($event.keyCode);">
                            </div>
                            <div class="col-md-3" ng-show="ffData.max >= 6">
                                <input type="text" placeholder="" maxlength="10" class="form-control telephone" id="txtFF6" ng-model="saveParamData.ff6" ng-blur="onCheckFF();" ng-number-only="ifff" ng-keyup="onInputFF($event.keyCode);">
                            </div>
                            </div>
                            <div class="form-group row" ng-show="ffData.max >= 7">
                            <div class="col-md-3">
                            </div>
                            <div class="col-md-3" ng-show="ffData.max >= 7">
                                <input type="text" placeholder="" maxlength="10" class="form-control telephone" id="txtFF7" ng-model="saveParamData.ff7" ng-blur="onCheckFF();" ng-number-only="ifff" ng-keyup="onInputFF($event.keyCode);">
                            </div>
                            <div class="col-md-3" ng-show="ffData.max >= 8">
                                <input type="text" placeholder="" maxlength="10" class="form-control telephone" id="txtFF8" ng-model="saveParamData.ff8" ng-blur="onCheckFF();" ng-number-only="ifff" ng-keyup="onInputFF($event.keyCode);">
                            </div>
                            </div>
                            <div class="form-group row" ng-show="ffData.max >= 9">
                            <div class="col-md-3">
                            </div>
                            <div class="col-md-3" ng-show="ffData.max >= 9">
                                <input type="text" placeholder="" maxlength="10" class="form-control telephone" id="txtFF9" ng-model="saveParamData.ff9" ng-blur="onCheckFF();" ng-number-only="ifff" ng-keyup="onInputFF($event.keyCode);">
                            </div>
                            <div class="col-md-3" ng-show="ffData.max >= 10">
                                <input type="text" placeholder="" maxlength="10" class="form-control telephone" id="txtFF10" ng-model="saveParamData.ff10" ng-blur="onCheckFF();" ng-number-only="ifff" ng-keyup="onInputFF($event.keyCode);">
                            </div>
                            </div>
                            <div class="row">
                            <div class="col-md-3">
                            </div>
                            <div class="col-md-6" style="text-align:center;">
                                <span ng-span-number-only="ifff" class="hide" style="color:red;">
                                    กรุณากรอกเฉพาะตัวเลขเท่านั้น
                                </span>
                                <span ng-show="isNumberTelLengthFF" style="color:red;">
                                    กรุณากรอกหมายเลข9-10ตัว
                                </span>
                                <span ng-show="isNumberTelZeroFF" style="color:red;">
                                    กรุณากรอก 0 เป็นตัวแรก
                                </span>
                            </div>
                            <div class="col-md-3">
                            </div>
                            </div>
                            <br>
                            <div class="row">
                            <div class="col-md-12" style="color:red;text-align:center;">
                                <span>
                                    กรุณาระบุเลขหมายเลขคนสนิท(Friend & Family) อย่างน้อย {{selectedOffer['parameter-specifications'][0].min}} เบอร์
                                </span>
                            </div>
                            </div>
                        </div>
                        <div ng-show="dataForEdit.group=='ADDITIONAL'" style="padding: 20px;">
                            <div class="form-group row" ng-repeat="item in dataForEdit['parameter-specifications']">
                            <div class="col-xs-1">
                            </div>
                            <div class="col-xs-4" style=" text-align: right; top: 5px;">
                                <label>{{item['name']}}</label> <span ng-if="item['required']==true" style="color:red;">*</span>
                            </div>
                            <div class="col-xs-4">
                                <div class="form-group has-feedback">
                                    <input ng-if="item['data-type']=='TEXT'&&!item['valid-values']" type="text" ng-model="item['select-value']" class="form-control" ng-keyup="validateAddAD('edit');">
                                    <input ng-if="item['data-type']=='NUMBER'&&!item['valid-values']" type="text" ng-model="item['select-value']" class="form-control" ng-number-only="{{item['name']}}" ng-keyup="validateAddAD('edit');">
                                    <span ng-span-number-only="{{item['name']}}" class="hide" style="color:red;">
                                        กรุณากรอกเฉพาะตัวเลขเท่านั้น
                                    </span>
                                    <select ng-if="item['data-type']=='TEXT'&&item['valid-values']"  class="form-control" ng-options="option.value for option in item['option-values'] track by option.id" ng-model="item['select-value']" ng-change="validateAddAD('edit');"></select>
                                </div>
                            </div>
                            <div class="col-xs-2"></div>
                            </div>
                        </div>
                        <div ng-show="dataForEdit.group=='POOLING'" style="padding: 20px;">
                            <td colspan="6" class="text-center">
                                <div ng-show="addOfferType=='POOLING'">
                                    <div ng-show="parameter.Volume != 'hide'">
                                        <div class="form-group row">
                                            <label class="col-md-3 control-label" style="text-align:right">Volume cap max <span style="color:red;">*</span> </label>
                                            <div class="col-md-6" style="width:auto">
                                                <select class="form-control" id="selectVolume" ng-init="saveParamData.Volume=parameter.Volume" ng-model="parameter.Volume" ng-change="saveParamData.Volume=parameter.Volume">
                                                    <option value="-2">ใช้ค่า Default จากระบบ</option>
                                                    <option value="-1">สามารถใช้ Bundle ได้ไม่จำกัดจำนวน (Unlimited Capping)</option>
                                                    <option value="">สามารถใช้ Bundle ได้ตามจำนวนที่ระบุเท่านั้น (Limited Capping)</option>
                                                    <option value="0">Not Allow</option>
                                                </select>
                                            </div>
                                            <div class="col-md-2">
                                                <input type="text" id="txtVolume" ng-show="parameter.Volume>=1 || parameter.Volume == ''" ng-model="saveParamData.Volume" ng-numeric="isNumberVolume" placeholder="" maxlength="10" class="form-control" style="width:110px;">
                                            </div>
                                        </div>
                                        <div class="form-group row">
                                            <div class="col-md-3 hidden-sm">
                                            </div>
                                            <div class="col-md-5 hidden-sm">
                                            </div>
                                            <div class="col-md-4">
                                                <span ng-span-numeric="isNumberVolume" class="hide" style="color:red;">
                                                        กรุณากรอกเฉพาะตัวเลขเท่านั้น
                                                    </span>
                                            </div>
                                        </div>
                                        <div class="form-group row">
                                            <label class="col-md-3 control-label" style="text-align:right">Volume cap max UOM <span style="color:red;">*</span> </label>
                                            <div class="col-md-3">
                                                <select class="form-control" ng-options="item.id as item.value for item in capMaxParameterList['volumeCapMaxUOMCombo']" ng-model="capMaxParameterList['volume-capmax-uom']" ng-disabled="parameter.Volume=='null' || parameter.Volume=='0' || parameter.Volume=='-2' || parameter.Volume=='-1'"></select>
                                            </div>
                                        </div>
                                    </div>
                                    &nbsp;
                                    <div ng-show="parameter.Monetary != 'hide'">
                                        <div class="form-group row">
                                            <label class="col-md-3 control-label" style="text-align:right">Monetary cap max <span style="color:red;">*</span> </label>
                                            <div class="col-md-6" style="width:auto">
                                                <select class="form-control" id="selectMonetary" ng-init="saveParamData.Monetary=parameter.Monetary" ng-model="parameter.Monetary" ng-change="saveParamData.Monetary=parameter.Monetary">
                                                    <option value="-2">ใช้ค่า Default จากระบบ</option>
                                                    <option value="-1">สามารถใช้ Bundle ได้ไม่จำกัดจำนวน (Unlimited Capping)</option>
                                                    <option value="">สามารถใช้ Bundle ได้ตามจำนวนที่ระบุเท่านั้น (Limited Capping)</option>
                                                    <option value="0">Not Allow</option>
                                                </select>
                                            </div>
                                            <div class="col-md-2">
                                                <input type="text" id="txtMonetary" ng-show="parameter.Monetary>=1 || parameter.Monetary==''" ng-model="saveParamData.Monetary" placeholder="" maxlength="10" class="form-control" style="width:110px;" ng-numeric="isNumberMonetary">
                                            </div>
                                        </div>
                                        <div class="form-group row">
                                            <div class="col-md-3 hidden-sm">
                                            </div>
                                            <div class="col-md-5 hidden-sm">
                                            </div>
                                            <div class="col-md-4">
                                                <span ng-span-numeric="isNumberMonetary" class="hide" style="color:red;">
                                                        กรุณากรอกเฉพาะตัวเลขเท่านั้น
                                                    </span>
                                            </div>
                                        </div>
                                        <div class="form-group row">
                                            <label class="col-md-3 control-label" style="text-align:right">Monetary cap max UOM <span style="color:red;">*</span> </label>
                                            <div class="col-md-3">
                                                <input type="text" class="form-control" readonly="readonly" value="Baht" />
                                            </div>
                                        </div>
                                    </div>
                                    &nbsp;
                                    <div ng-show="parameter.Occurrence != 'hide'">
                                        <div class="form-group row">
                                            <label class="col-md-3 control-label" style="text-align:right">Occurrence cap max <span style="color:red;">*</span> </label>
                                            <div class="col-md-6" style="width:auto">
                                                <select class="form-control" id="selectOccurrence" ng-init="saveParamData.Occurrence=parameter.Occurrence" ng-model="parameter.Occurrence" ng-change="saveParamData.Occurrence=parameter.Occurrence">
                                                    <option value="-2">ใช้ค่า Default จากระบบ</option>
                                                    <option value="-1">สามารถใช้ Bundle ได้ไม่จำกัดจำนวน (Unlimited Capping)</option>
                                                    <option value="">สามารถใช้ Bundle ได้ตามจำนวนที่ระบุเท่านั้น (Limited Capping)</option>
                                                    <option value="0">Not Allow</option>
                                                </select>
                                            </div>
                                            <div class="col-md-2">
                                                <input type="text" id="txtOccurrence" ng-show="parameter.Occurrence>=1 || parameter.Occurrence == ''" ng-model="saveParamData.Occurrence" placeholder="" maxlength="10" class="form-control" style="width:110px;" ng-numeric="isNumberOccurrence">
                                            </div>
                                        </div>
                                        <div class="form-group row">
                                            <div class="col-md-3 hidden-sm">
                                            </div>
                                            <div class="col-md-5 hidden-sm">
                                            </div>
                                            <div class="col-md-4">
                                                <span ng-span-numeric="isNumberOccurrence" class="hide" style="color:red;">
                                                        กรุณากรอกเฉพาะตัวเลขเท่านั้น
                                                    </span>
                                            </div>
                                        </div>
                                        <div class="form-group row">
                                            <label class="col-md-3 control-label" style="text-align:right">Occurrence cap max UOM <span style="color:red;">*</span> </label>
                                            <div class="col-md-3">
                                                <input type="text" class="form-control" readonly="readonly" value="Occurrence" />
                                            </div>
                                        </div>
                                    </div>
                                    &nbsp;
                                    <div ng-show="parameter.Duration != 'hide'">
                                        <div class="form-group row">
                                            <label class="col-md-3 control-label" style="text-align:right">Duration cap max <span style="color:red;">*</span> </label>
                                            <div class="col-md-6" style="width:auto">
                                                <select class="form-control" id="selectDuration" ng-init="saveParamData.Duration=parameter.Duration" ng-model="parameter.Duration" ng-change="saveParamData.Duration=parameter.Duration">
                                                    <option value="-2">ใช้ค่า Default จากระบบ</option>
                                                    <option value="-1">สามารถใช้ Bundle ได้ไม่จำกัดจำนวน (Unlimited Capping)</option>
                                                    <option value="">สามารถใช้ Bundle ได้ตามจำนวนที่ระบุเท่านั้น (Limited Capping)</option>
                                                    <option value="0">Not Allow</option>
                                                </select>
                                            </div>
                                            <div class="col-md-2">
                                                <input type="text" id="txtDuration" ng-show="parameter.Duration>=1 || parameter.Duration == ''" ng-model="saveParamData.Duration" placeholder="" maxlength="10" class="form-control" style="width:110px;" ng-numeric="isNumberDuration">
                                            </div>
                                        </div>
                                        <div class="form-group row">
                                            <div class="col-md-3 hidden-sm">
                                            </div>
                                            <div class="col-md-5 hidden-sm">
                                            </div>
                                            <div class="col-md-4">
                                                <span ng-span-numeric="isNumberDuration" class="hide" style="color:red;">
                                                        กรุณากรอกเฉพาะตัวเลขเท่านั้น
                                                    </span>
                                            </div>
                                        </div>
                                        <div class="form-group row">
                                            <label class="col-md-3 control-label" style="text-align:right">Duration cap max UOM <span style="color:red;">*</span> </label>
                                            <div class="col-md-3">
                                                <select class="form-control" ng-options="item.id as item.value for item in capMaxParameterList['durationCapMaxUOMCombo']" ng-model="capMaxParameterList['duration-capmax-uom']" ng-disabled="parameter.Duration=='null' || parameter.Duration=='0' || parameter.Duration=='-2'  || parameter.Duration=='-1'"></select>
                                            </div>
                                        </div>
                                    </div>
                                    &nbsp;
                                    <div class="form-group row">
                                        <!-- <div class="col-xs-1">
                                            </div> -->
                                        <div class="col-xs-3" style=" text-align: right; top: 5px;">
                                            <label>Effective Date</label><span style="color: red">*</span>
                                        </div>
                                        <div class="col-xs-4">
                                            <div class="form-group has-feedback">
                                                <input name="birthDay" type="text" ng-model="cpStartDate" class="form-control date-picker dateFormat" maxlength="10" required>
                                                <span class="form-control-feedback is-bound"><i class="fa fa-calendar"></i></span>
                                            </div>
                                        </div>
                                        <div class="col-xs-2">
                                        </div>
                                    </div>
                                    <div class="form-group row">
                                        <!-- <div class="col-xs-1">
                                            </div> -->
                                        <div class="col-xs-3" style=" text-align: right; top: 5px;">
                                            <label>Expiration Date</label><span style="color: red">*</span>
                                        </div>
                                        <div class="col-xs-4">
                                            <div class="form-group has-feedback">
                                                <input name="birthDay" type="text" ng-model="cpExpireDate" class="form-control date-picker dateFormat" maxlength="10" required>
                                                <span class="form-control-feedback is-bound"><i class="fa fa-calendar"></i></span>
                                            </div>
                                        </div>
                                        <div class="col-xs-2">
                                        </div>
                                    </div>
                                    &nbsp;
                                </div>
                            </td>
                        </div>
                        <div ng-show="dataForEdit.group=='CONTRACT_PROPO'" style="padding: 20px;">
                            <div class="form-group">
                                <div style="font-size: 1.23em; font-weight: bold; padding-left: 100px;">Offer Parameter</div>
                            </div>
                            &nbsp;
                            <div class="form-group row">
                                <div class="col-xs-1">
                                </div>
                                <div class="col-xs-4" style=" text-align: right; top: 5px;">
                                    <label>Proposition Code</label>
                                </div>
                                <div class="col-xs-4">
                                    <input ng-disabled="true" type="text" ng-model="dataForEdit.name" class="form-control">
                                </div>
                                <div class="col-xs-2">
                                </div>
                            </div>
                            <div class="form-group row">
                                <div class="col-xs-1">
                                </div>
                                <div class="col-xs-4" style=" text-align: right; top: 5px;">
                                    <label>Proposition Description</label>
                                </div>
                                <div class="col-xs-4">
                                    <input ng-disabled="true" type="text" ng-model="dataForEdit.description" class="form-control">
                                </div>
                                <div class="col-xs-2">
                                </div>
                            </div>
                            <div class="form-group row">
                                <div class="col-xs-1">
                                </div>
                                <div class="col-xs-4" style=" text-align: right; top: 5px;">
                                    <label>Contract Number</label><span style="color: red">*</span>
                                </div>
                                <div class="col-xs-4">
                                    <input type="text" ng-model="dataForEdit.param['contract-number']" class="form-control" ng-number-only="inputEditCpCN" maxlength="10" ng-keyup="validateAddCp('edit')">
                                    <span ng-span-number-only="inputEditCpCN" class="hide" style="color:red;">
                                        กรุณากรอกเฉพาะตัวเลขเท่านั้น
                                    </span>
                                </div>
                                <div class="col-xs-2">
                                </div>
                            </div>
                            <div class="form-group row">
                                <div class="col-xs-1">
                                </div>
                                <div class="col-xs-4" style=" text-align: right; top: 5px;">
                                    <label>Term</label><span style="color: red">*</span>
                                </div>
                                <div class="col-xs-4">
                                    <input type="text" ng-model="dataForEdit.param.term" class="form-control" ng-number-only="inputCpTerm" disabled>
                                    <span ng-span-number-only="inputCpTerm" class="hide" style="color:red;">
                                        กรุณากรอกเฉพาะตัวเลขเท่านั้น
                                    </span>
                                </div>
                                <div class="col-xs-2">
                                </div>
                            </div>
                            <div class="form-group row">
                                <div class="col-xs-1">
                                </div>
                                <div class="col-xs-4" style=" text-align: right; top: 5px;">
                                    <label>Fee</label><span style="color: red">*</span>
                                </div>
                                <div class="col-xs-4">
                                    <input type="text" ng-model="dataForEdit.param.fee" class="form-control" id="cpFee" ng-number-only="inputCpFee" disabled>
                                    <span ng-span-number-only="inputCpFee" class="hide" style="color:red;">
                                        กรุณากรอกเฉพาะตัวเลขเท่านั้น
                                    </span>
                                </div>
                                <div class="col-xs-2">
                                </div>
                            </div>
                            <div class="form-group row">
                                <div class="col-xs-1">
                                </div>
                                <div class="col-xs-4" style=" text-align: right; top: 5px;">
                                    <label>Start Date</label><span style="color: red">*</span>
                                </div>
                                <div class="col-xs-4">
                                    <div class="has-feedback">
                                        <input name="birthDay" type="text" id="editCpStartDate" ng-model="dataForEdit.param['start-date']" class="form-control date-picker-today-en dateFormat" maxlength="10" requireds ng-keyup="validateAddCp('edit')">
                                        <span class="form-control-feedback is-bound"><i class="fa fa-calendar"></i></span>
                                    </div>
                                </div>
                                <div class="col-xs-2">
                                </div>
                            </div>
                            <div class="form-group row">
                                <div class="col-xs-1">
                                </div>
                                <div class="col-xs-4" style=" text-align: right; top: 5px;">
                                    <label>Expiration Date</label><span style="color: red">*</span>
                                </div>
                                <div class="col-xs-4">
                                    <div class="has-feedback">
                                        <input name="birthDay" type="text" id="editCpExpirationDate" ng-model="dataForEdit.param['expiration-date']" class="form-control date-picker-today-en dateFormat" maxlength="10" required ng-keyup="validateAddCp('edit')" ng-click="setDatepickerValue();">
                                        <span class="form-control-feedback is-bound"><i class="fa fa-calendar"></i></span>
                                    </div>
                                </div>
                                <div class="col-xs-2">
                                </div>
                            </div>
                            <div class="form-group row">
                                <div class="col-xs-1">
                                </div>
                                <div class="col-xs-4" style=" text-align: right; top: 5px;">
                                    <label>Remark</label><span style="color: red">*</span>
                                </div>
                                <div class="col-xs-4">
                                    <input name="cpRemark" type="text" ng-model="dataForEdit.param['remark']" class="form-control" ng-keyup="validateAddCp('edit')">
                                </div>
                                <div class="col-xs-2">
                                </div>
                            </div>
                        </div>
                    </div>
                        <!-- <br> -->
                        <!-- <br> -->
                    <div style="border-top: 1px solid #e5e5e5;"  ng-hide="dataForEdit['type'] == 'editRelate'">
                        <br>
                       <!--  <label style="cursor: pointer;">
                            <input type="checkbox" ng-model="editExp" id="editExp"> &nbsp;
                            <span style="font-weight: bold; font-size:16px;"> Expiration Date</span>
                        </label> -->
                        <!-- <div ng-show="editExp"> -->
                        <!-- <div> -->
                             <!-- <br> -->
                            <div class="form-group">
                                <div class="row">
                                    <div class="col-xs-1">
                                    </div>
                                    <div class="col-xs-3" style=" text-align: right; top: 5px;">
                                        <label>วันที่มีผล (Effective Date)</label><span style="color:red;">*</span>
                                    </div>
                                    <div class="col-xs-7">
                                        <div class="col-xs-5" style="top:5px;">
                                            <label style="cursor: pointer;">
                                                <input style="cursor: pointer;" type="radio" ng-model="dataForEdit['param']['effective-date-type']" value="immediate" ng-change="onEffectiveChangeForEdit();"> ทันที (Immediate)
                                            </label>
                                        </div>
                                        <div class="col-xs-7">
                                            <div class="form-group has-feedback">
                                                <div class="col-xs-5" style="top:5px;">
                                                    <label style="cursor: pointer;">
                                                        <input style="cursor: pointer;" type="radio" ng-model="dataForEdit['param']['effective-date-type']" value="specify" style="cursor: pointer;" ng-change="onEffectiveChangeForEdit();" > ระบุวันที่
                                                    </label>
                                                </div>
                                                <div class="col-xs-7" style="margin-top:-5px; margin-bottom:-5px;left:-10%">
                                                    <div class="form-group has-feedback imp" style="top:5px;">
                                                        <input type="text" ng-model="dataForEdit['param']['effective-date-value']" id="editNewOfferEffectiveDate" class="form-control dateManual date-picker-start-en dateFormat" style="width:120%;" maxlength="10" ng-disabled="dataForEdit['param']['effective-date-type']=='immediate'">
                                                        <span class="form-control-feedback is-bound" style="right: -20%;"><i class="fa fa-calendar"></i></span>
                                                    </div>
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                    <div class="col-xs-1"></div>
                                </div>
                            </div>
                            <div class="form-group">
                                <div class="row">
                                    <div class="col-xs-1">
                                    </div>
                                    <div class="col-xs-3" style=" text-align: right; top: 5px;">
                                        <label>วันที่หมดอายุ (Expiration Date)</label><span style="color:red;">*</span>
                                    </div>
                                    <div class="col-xs-7">
                                        <div class="col-xs-5" style="top:5px;">
                                            <label style="cursor: pointer;">
                                                <input style="cursor: pointer;" type="radio" name="editOfferExpirationDate" ng-model="dataForEdit['param']['expiration-date-type']" value="unlimited" ng-change="onExpirationChangeForEdit();" ng-disabled="dataForEdit['properties']['DISCOUNT_GROUP'].length > 0 && dataForEdit['properties']['DISCOUNT_GROUP']!='CVG' && dataForEdit['properties']['DISCOUNT_GROUP']!='EMP'"> ไม่มีกำหนด (Unlimited)
                                            </label>
                                        </div>
                                        <div class="col-xs-7">
                                            <div class="form-group has-feedback">
                                                <div class="col-xs-5" style="top:5px;">
                                                    <label style="cursor: pointer;">
                                                        <input style="cursor: pointer;" type="radio" name="editOfferExpirationDate" ng-model="dataForEdit['param']['expiration-date-type']" value="specify" style="cursor: pointer;" ng-change="onExpirationChangeForEdit();">ระบุวันที่
                                                    </label>
                                                </div>
                                                <div class="col-xs-7" style="margin-top:-5px; margin-bottom:-5px;left:-10%">
                                                    <div class="form-group has-feedback imp" style="top:5px;">
                                                        <input type="text" ng-model="dataForEdit['param']['expiration-date-value']" id="editNewOfferExpirationDate" class="form-control dateManual date-picker-start-en dateFormat" style="width:120%;" maxlength="10" ng-disabled="dataForEdit['param']['expiration-date-type']=='unlimited'">
                                                        <span class="form-control-feedback is-bound" style="right: -20%;"><i class="fa fa-calendar"></i></span>
                                                    </div>
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                    <div class="col-xs-1"></div>
                                </div>
                            </div>
                        <!-- </div> -->
                    </div>
                </div>
            </div>
            <div class="modalOffer-footer" style="">
                <div class="col-xs-12">
                    <button type="button" class="btn btn-success" data-dismiss="modal" ng-click="disableEditOffer(); unChk(editOfferCode); editNewOffer();" style="margin-top: -0px;" ng-disabled="disableSubmitAddOffer">ตกลง</button>
                    <button type="button" class="btn btn-cancel" data-dismiss="modal" ng-click="unChk(editOfferCode);" style="margin-top: -0px;">ปิด</button>
                </div>
                <br>
                <br>
                <!-- </div> -->
            </div>
        </div>
    </div>
</div>

<!-- Start modal-edit-offerDetail -->
<div id="modal-edit-offerDetail" tabindex="-1" class="modal fade" data-backdrop="static" data-keyboard="false">
    <div class="modal-dialog modal_pdf_width modal-lg">
        <div class="modal-content">
            &nbsp;&nbsp;
            <div class="modalOffer-header">
                <span class="fa fa-pencil-square pull-left fa-lg-plus" style="color: #00a651;"></span>
                <div style="font-size: 1.5em;">รายละเอียด Parameter</div>
            </div>
            <div class="modal-body">
                <div class="hModal" style="overflow:auto;overflow-x:hidden;">
                    <div calss="form-group">
                        <div class="row">
                            <div class="col-md-2">
                            </div>
                            <div class="col-md-3 text-right" style="top: 5px; font-weight: bold; font-size:16px;">
                                <label>Offer Instance Id</label>
                            </div>
                            <div class="col-md-4">
                                <input type="text" id="viewOfferCode" ng-model="viewOffer['offer-instance-id']" class="form-control" style="border-style: none; background: none;" disabled>
                            </div>
                            <div class="col-md-3">
                            </div>
                        </div>
                    </div>
                    <div calss="form-group">
                        <div class="row">
                            <div class="col-md-3">
                            </div>
                            <div class="col-md-2 text-right" style="top: 5px; font-weight: bold; font-size:16px;">
                                <label>Offer Code</label>
                            </div>
                            <div class="col-md-4">
                                <input type="text" id="viewOfferCode" ng-model="viewOffer['product-name']" class="form-control" style="border-style: none; background: none;" disabled>
                            </div>
                            <div class="col-md-3">
                            </div>
                        </div>
                    </div>
                    <div calss="form-group">
                        <div class="row">
                            <div class="col-md-3">
                            </div>
                            <div class="col-md-2 text-right" style="top: 5px; font-weight: bold; font-size:16px;">
                                <label>Offer Description</label>
                            </div>
                            <div class="col-md-7">
                                <input type="text" id="viewOfferDesc" ng-model="viewOffer['product-description']" class="form-control" style="border-style: none; background: none;" disabled>
                            </div>
                        </div>
                    </div>
                    <br>
                    <div ng-repeat="item in paramForEdit" ng-show="paramForEdit && viewOfferForEdit['offer-group']!='PROPOSITION'">
                        <div calss="form-group">
                            <div class="row">
                                <div class="col-md-1">
                                </div>
                                <div class="col-md-4 text-right" style="top: 5px;">
                                    <label> {{item.name}} </label>
                                </div>
                                <div class="col-md-3">
                                    <input ng-if="item.name!='TR_ACTUAL_CONTRACT_START_DATE'&&item.name!='TR_ORIG_CONTRACT_EXPIRE_DATE'" type="text" id="{{item.name}}" ng-model="item.value" class="form-control" ng-change="onModelChange();">
                                    <div ng-if="item.name=='TR_ACTUAL_CONTRACT_START_DATE'||item.name=='TR_ORIG_CONTRACT_EXPIRE_DATE'" class="form-group has-feedback imp" style="top:5px;">
                                        <input type="text" ng-model="item.value" id="{{item.name}}" class="form-control dateManual date-picker-start-en dateFormat" maxlength="10" style="margin-top: -9px;" ng-click="setDatepicker(item.name, item.value);" ng-disabled="item.name=='TR_ACTUAL_CONTRACT_START_DATE'">
                                        <span class="form-control-feedback is-bound"><i class="fa fa-calendar"></i></span>
                                    </div>
                                </div>
                                <div class="col-md-3">
                                </div>
                            </div> &nbsp;
                        </div>
                    </div>
                    <div ng-if="viewOfferForEdit['offer-group']=='PROPOSITION'">
                        <div class="form-group">
                            <div class="row">
                                <div class="col-md-1">
                                </div>
                                <div class="col-md-4 text-right" style="top: 5px;">
                                    <label>Proposition Code</label>
                                </div>
                                <div class="col-md-3">
                                    <input ng-disabled="true" type="text" ng-model="viewOfferForEdit['original-data']['product-name']" class="form-control">
                                </div>
                                <div class="col-md-3">
                                </div>
                            </div>
                        </div>
                        <div class="form-group">
                            <div class="row">
                                <div class="col-md-1">
                                </div>
                                <div class="col-md-4 text-right" style=" text-align: right; top: 5px;">
                                    <label>Proposition Description</label>
                                </div>
                                <div class="col-md-3">
                                    <input ng-disabled="true" type="text" ng-model="viewOfferForEdit['original-data']['product-description']" class="form-control">
                                </div>
                                <div class="col-md-3">
                                </div>
                            </div>
                        </div>
                        <div class="form-group">
                            <div class="row">
                                <div class="col-md-1">
                                </div>
                                <div class="col-md-4 text-right" style=" text-align: right; top: 5px;">
                                    <label>Contract Number</label>
                                </div>
                                <div class="col-md-3">
                                    <input type="text" ng-model="viewOfferForEdit['param']['TR_CONTRACT_NUMBER'][0]['value']" class="form-control" ng-number-only="editCN" maxlength="10" ng-keyup="">
                                    <span ng-span-number-only="editCN" class="hide" style="color:red;">
                                        กรุณากรอกเฉพาะตัวเลขเท่านั้น
                                    </span>
                                </div>
                                <div class="col-md-3">
                                </div>
                            </div>
                        </div>
                        <div class="form-group">
                            <div class="row">
                                <div class="col-md-1">
                                </div>
                                <div class="col-md-4 text-right" style=" text-align: right; top: 5px;">
                                    <label>Term</label>
                                </div>
                                <div class="col-md-3">
                                    <input type="text" ng-model="viewOfferForEdit['param']['TR_CONTRACT_TERM'][0]['value']" class="form-control" ng-number-only="viewTerm" disabled>
                                    <span ng-span-number-only="viewTerm" class="hide" style="color:red;">
                                        กรุณากรอกเฉพาะตัวเลขเท่านั้น
                                    </span>
                                </div>
                                <div class="col-md-3">
                                </div>
                            </div>
                        </div>
                        <div class="form-group">
                            <div class="row">
                                <div class="col-md-1">
                                </div>
                                <div class="col-md-4 text-right" style=" text-align: right; top: 5px;">
                                    <label>Fee</label>
                                </div>
                                <div class="col-md-3">
                                    <input type="text" ng-model="viewOfferForEdit['param']['TR_CONTRACT_FEE'][0]['value']" class="form-control" id="cpFee" ng-number-only="viewFee" disabled>
                                    <span ng-span-number-only="viewFee" class="hide" style="color:red;">
                                        กรุณากรอกเฉพาะตัวเลขเท่านั้น
                                    </span>
                                </div>
                                <div class="col-md-3">
                                </div>
                            </div>
                        </div>
                        <div class="form-group">
                            <div class="row">
                                <div class="col-md-1">
                                </div>
                                <div class="col-md-4 text-right" style=" text-align: right; top: 5px;">
                                    <label>Effective Date</label>
                                </div>
                                <div class="col-md-3">
                                    <div class="has-feedback">
                                        <input type="text" ng-model="viewOfferForEdit['CONTRACT-START-DATE']" class="form-control date-picker-today-en dateFormat" maxlength="10" ng-disabled="viewOfferForEdit['CONTRACT-START-DATE'].length > 0">
                                        <span class="form-control-feedback is-bound"><i class="fa fa-calendar"></i></span>
                                    </div>
                                </div>
                                <div class="col-md-3">
                                </div>
                            </div>
                        </div>
                        <div class="form-group">
                            <div class="row">
                                <div class="col-md-1">
                                </div>
                                <div class="col-md-4 text-right" style=" text-align: right; top: 5px;">
                                    <label>Expiration Date</label>
                                </div>
                                <div class="col-md-3">
                                    <div class="has-feedback">
                                        <input type="text" ng-model="viewOfferForEdit['CONTRACT-EXPIRATION-DATE']" class="form-control date-picker-today-en dateFormat" maxlength="10" ng-disabled="viewOfferForEdit['CONTRACT-EXPIRATION-DATE'].length > 0">
                                        <span class="form-control-feedback is-bound"><i class="fa fa-calendar"></i></span>
                                    </div>
                                </div>
                                <div class="col-md-3">
                                </div>
                            </div>
                        </div>
                        <div class="form-group">
                            <div class="row">
                                <div class="col-md-1">
                                </div>
                                <div class="col-md-4 text-right" style=" text-align: right; top: 5px;">
                                    <label>Remark</label>
                                </div>
                                <div class="col-md-3">
                                    <input type="text" ng-model="viewOfferForEdit['param']['TR_CONTRACT_REMARK'][0]['value']" class="form-control">
                                </div>
                                <div class="col-md-3">
                                </div>
                            </div>
                        </div>
                    </div>
                    <div calss="form-group" ng-hide="viewOfferForEdit['offer-group']=='PROPOSITION'">
                        <div class="row">
                            <div class="col-md-3">
                            </div>
                            <div class="col-md-2 text-right" style="top: 5px;">
                                <label>Effective Date</label>
                            </div>
                            <div class="col-md-3">
                                <!-- <input type="text" id="adViewOffer['effective-date']" ng-model="viewOffer['effective-date']" class="form-control"> -->
                                <div class="form-group has-feedback imp" style="top:5px;">
                                    <input type="text" ng-model="paramForEdit['effective-date']" id="editOfferEffectiveDate" class="form-control dateManual date-picker-start-en dateFormat" maxlength="10" style="margin-top: -9px;" ng-disabled="true">
                                    <span class="form-control-feedback is-bound"><i class="fa fa-calendar"></i></span>
                                </div>
                            </div>
                            <div class="col-md-3">
                            </div>
                        </div> &nbsp;
                    </div>
                    <div calss="form-group" ng-hide="viewOfferForEdit['offer-group']=='PROPOSITION'">
                        <div class="row">
                            <div class="col-md-3">
                            </div>
                            <div class="col-md-2 text-right" style="top: 5px;">
                                <label>Expiration Date</label>
                            </div>
                            <div class="col-md-3">
                                <!-- <input type="text" id="adViewOffer['expiration-date']" ng-model="viewOffer['expiration-date']" class="form-control"> -->
                                <div class="form-group has-feedback imp" style="top:5px;">
                                    <input type="text" ng-model="paramForEdit['expiration-date']" id="editOfferExpirationDate" class="form-control dateManual date-picker-start-en dateFormat" maxlength="10" style="margin-top: -9px;" ng-change="onModelChange();">
                                    <span class="form-control-feedback is-bound"><i class="fa fa-calendar"></i></span>
                                </div>
                            </div>
                            <div class="col-md-3">
                            </div>
                        </div>
                    </div> 
                </div>
            </div>
            <div class="modalOffer-footer" style="">
                <div class="col-xs-12">
                    <button type="button" class="btn btn-success" data-dismiss="modal" ng-click="unChk(viewOffer['product-name']);onEditCurrentOffer(viewOffer['product-name']);" style="margin-top: -0px;" ng-disabled="!modelChange">ตกลง</button>
                    <button type="button" class="btn btn-cancel" data-dismiss="modal" ng-click="unChk(viewOffer['product-name']);onCancelViewOffer();" style="margin-top: -0px;">ปิด</button>
                </div>
                <br>
                <br>
                <!-- </div> -->
            </div>
        </div>
    </div>
</div>
<!-- End modal-edit-offerDetail -->

<!-- Start modal-edit-future-offer -->
<div id="modal-edit-future-offer" tabindex="-1" class="modal fade" data-backdrop="static" data-keyboard="false">
    <div class="modal-dialog modal_pdf_width modal-lg">
        <div class="modal-content">
            &nbsp;&nbsp;
            <div class="modalOffer-header">
                <span class="fa fa-info-circle pull-left fa-lg-plus" style="color: #00a651;"></span>
                <div style="font-size: 1.5em;">รายละเอียด Parameter</div>
            </div>
            <div class="modal-body">
                <div class="hModal" style="overflow:auto;overflow-x:hidden;">
                    <div calss="form-group">
                        <div class="row">
                            <div class="col-md-3">
                            </div>
                            <div class="col-md-2 text-right" style="top: 5px; font-weight: bold; font-size:16px;">
                                <label>Offer Code</label>
                            </div>
                            <div class="col-md-4">
                                <input type="text" id="viewOfferCode" ng-model="futureOfferDetail['product-name']" class="form-control" style="border-style: none; background: none;" disabled>
                            </div>
                            <div class="col-md-3">
                            </div>
                        </div> &nbsp;
                    </div>
                    <div calss="form-group">
                        <div class="row">
                            <div class="col-md-3">
                            </div>
                            <div class="col-md-2 text-right" style="top: 5px; font-weight: bold; font-size:16px;">
                                <label>Offer Description</label>
                            </div>
                            <div class="col-md-7">
                                <input type="text" id="viewOfferDesc" ng-model="futureOfferDetail['product-description']" class="form-control" style="border-style: none; background: none;" disabled>
                            </div>
                        </div>
                    </div> &nbsp;
                    <br>
                    <br>
                    <div calss="form-group">
                        <div class="row">
                            <div class="col-md-3">
                            </div>
                            <div class="col-md-2 text-right" style="top: 5px;">
                                <label>Effective Date</label>
                            </div>
                            <div class="col-md-3">
                                <div class="form-group has-feedback imp" style="top:5px;">
                                    <input type="text" ng-model="futureOfferDetail['effective-date']" id="editFutureOfferEffectiveDate" class="form-control dateManual date-picker-start-en dateFormat" maxlength="10" style="margin-top: -9px;">
                                    <span class="form-control-feedback is-bound"><i class="fa fa-calendar"></i></span>
                                </div>
                            </div>
                            <div class="col-md-3">
                            </div>
                        </div> &nbsp;
                    </div>
                </div>
            </div>
            <div class="modalOffer-footer" style=" padding-top: 0;">
                <br>
                <button type="button" class="btn btn-success" data-dismiss="modal" ng-click="confirmEditFutureOffer();" style="margin-top: -0px;" ng-disabled="disableSubmitEditFutureOffer">ตกลง</button>
                <button type="button" class="btn btn-cancel" data-dismiss="modal" ng-click="onCancelEditFutureOffer();" style="margin-top: -0px;">ปิด</button>
            </div>
        </div>
    </div>
</div>
<!-- End modal-edit-future-offer -->

<!-- Start modal view offer  -->
<div id="modal-view-offerDetail" tabindex="-1" class="modal fade" data-backdrop="static" data-keyboard="false">
    <div class="modal-dialog modal_pdf_width modal-lg">
        <div class="modal-content">
            &nbsp;&nbsp;
            <div class="modalOffer-header">
                <span class="fa fa-info-circle pull-left fa-lg-plus" style="color: #00a651;"></span>
                <div style="font-size: 1.5em;">รายละเอียด Parameter</div>
            </div>
            <div class="modal-body">
                <div class="hModal" style="overflow:auto;overflow-x:hidden;">
                    <div calss="form-group">
                        <div class="row">
                            <div class="col-md-2">
                            </div>
                            <div class="col-md-3 text-right" style="top: 5px; font-weight: bold; font-size:16px;">
                                <label>Offer Instance Id</label>
                            </div>
                            <div class="col-md-4">
                                <input type="text" id="viewOfferCode" ng-model="viewOffer['offer-instance-id']" class="form-control" style="border-style: none; background: none;" disabled>
                            </div>
                            <div class="col-md-3">
                            </div>
                        </div>
                    </div>
                    <div calss="form-group">
                        <div class="row">
                            <div class="col-md-3">
                            </div>
                            <div class="col-md-2 text-right" style="top: 5px; font-weight: bold; font-size:16px;">
                                <label>Offer Code</label>
                            </div>
                            <div class="col-md-4">
                                <input type="text" id="viewOfferCode" ng-model="viewOffer['product-name']" class="form-control" style="border-style: none; background: none;" disabled>
                            </div>
                            <div class="col-md-3">
                            </div>
                        </div>
                    </div>
                    <div calss="form-group">
                        <div class="row">
                            <div class="col-md-3">
                            </div>
                            <div class="col-md-2 text-right" style="top: 5px; font-weight: bold; font-size:16px;">
                                <label>Offer Description</label>
                            </div>
                            <div class="col-md-7">
                                <input type="text" id="viewOfferDesc" ng-model="viewOffer['product-description']" class="form-control" style="border-style: none; background: none;" disabled>
                            </div>
                        </div>
                    </div>
                    <br>
                    <div ng-repeat="item in paramDetail" ng-show="paramDetail && viewOffer['offer-group']!='PROPOSITION'">
                        <div calss="form-group">
                            <div class="row">
                                <div class="col-md-1">
                                </div>
                                <div class="col-md-4 text-right" style="top: 5px;">
                                    <label> {{item.name}} </label>
                                </div>
                                <div class="col-md-3">
                                    <input ng-disabled="true" type="text" id="adViewOffer['effective-date']" ng-model="item.value" class="form-control">
                                </div>
                                <div class="col-md-3">
                                </div>
                            </div> &nbsp;
                        </div>
                    </div>
                    <div ng-if="viewOffer['offer-group']=='PROPOSITION'">
                        <div class="form-group">
                            <div class="row">
                                <div class="col-md-1">
                                </div>
                                <div class="col-md-4 text-right" style="top: 5px;">
                                    <label>Proposition Code</label>
                                </div>
                                <div class="col-md-3">
                                    <input ng-disabled="true" type="text" ng-model="viewOffer['original-data']['product-name']" class="form-control">
                                </div>
                                <div class="col-md-3">
                                </div>
                            </div>
                        </div>
                        <div class="form-group">
                            <div class="row">
                                <div class="col-md-1">
                                </div>
                                <div class="col-md-4 text-right" style=" text-align: right; top: 5px;">
                                    <label>Proposition Description</label>
                                </div>
                                <div class="col-md-3">
                                    <input ng-disabled="true" type="text" ng-model="viewOffer['original-data']['product-description']" class="form-control">
                                </div>
                                <div class="col-md-3">
                                </div>
                            </div>
                        </div>
                        <div class="form-group">
                            <div class="row">
                                <div class="col-md-1">
                                </div>
                                <div class="col-md-4 text-right" style=" text-align: right; top: 5px;">
                                    <label>Contract Number</label>
                                </div>
                                <div class="col-md-3">
                                    <input type="text" ng-model="viewOffer['param']['TR_CONTRACT_NUMBER'][0]['value']" class="form-control" ng-number-only="viewCN" maxlength="10" ng-keyup="validateAddCp()" disabled>
                                    <span ng-span-number-only="viewCN" class="hide" style="color:red;">
                                        กรุณากรอกเฉพาะตัวเลขเท่านั้น
                                    </span>
                                </div>
                                <div class="col-md-3">
                                </div>
                            </div>
                        </div>
                        <div class="form-group">
                            <div class="row">
                                <div class="col-md-1">
                                </div>
                                <div class="col-md-4 text-right" style=" text-align: right; top: 5px;">
                                    <label>Term</label>
                                </div>
                                <div class="col-md-3">
                                    <input type="text" ng-model="viewOffer['param']['TR_CONTRACT_TERM'][0]['value']" class="form-control" ng-number-only="viewTerm" disabled>
                                    <span ng-span-number-only="viewTerm" class="hide" style="color:red;">
                                        กรุณากรอกเฉพาะตัวเลขเท่านั้น
                                    </span>
                                </div>
                                <div class="col-md-3">
                                </div>
                            </div>
                        </div>
                        <div class="form-group">
                            <div class="row">
                                <div class="col-md-1">
                                </div>
                                <div class="col-md-4 text-right" style=" text-align: right; top: 5px;">
                                    <label>Fee</label>
                                </div>
                                <div class="col-md-3">
                                    <input type="text" ng-model="viewOffer['param']['TR_CONTRACT_FEE'][0]['value']" class="form-control" id="cpFee" ng-number-only="viewFee" disabled>
                                    <span ng-span-number-only="viewFee" class="hide" style="color:red;">
                                        กรุณากรอกเฉพาะตัวเลขเท่านั้น
                                    </span>
                                </div>
                                <div class="col-md-3">
                                </div>
                            </div>
                        </div>
                        <div class="form-group">
                            <div class="row">
                                <div class="col-md-1">
                                </div>
                                <div class="col-md-4 text-right" style=" text-align: right; top: 5px;">
                                    <label>Effective Date</label>
                                </div>
                                <div class="col-md-3">
                                    <div class="has-feedback">
                                        <input type="text" ng-model="viewOffer['CONTRACT-START-DATE']" class="form-control date-picker-today-en dateFormat" maxlength="10" ng-disabled="true">
                                        <span class="form-control-feedback is-bound"><i class="fa fa-calendar"></i></span>
                                    </div>
                                </div>
                                <div class="col-md-3">
                                </div>
                            </div>
                        </div>
                        <div class="form-group">
                            <div class="row">
                                <div class="col-md-1">
                                </div>
                                <div class="col-md-4 text-right" style=" text-align: right; top: 5px;">
                                    <label>Expiration Date</label>
                                </div>
                                <div class="col-md-3">
                                    <div class="has-feedback">
                                        <input type="text" ng-model="viewOffer['CONTRACT-EXPIRATION-DATE']" class="form-control date-picker-today-en dateFormat" maxlength="10" disabled>
                                        <span class="form-control-feedback is-bound"><i class="fa fa-calendar"></i></span>
                                    </div>
                                </div>
                                <div class="col-md-3">
                                </div>
                            </div>
                        </div>
                        <div class="form-group">
                            <div class="row">
                                <div class="col-md-1">
                                </div>
                                <div class="col-md-4 text-right" style=" text-align: right; top: 5px;">
                                    <label>Remark</label>
                                </div>
                                <div class="col-md-3">
                                    <input type="text" ng-model="viewOffer['param']['TR_CONTRACT_REMARK'][0]['value']" class="form-control" disabled>
                                </div>
                                <div class="col-md-3">
                                </div>
                            </div>
                        </div>
                    </div>
                    <div calss="form-group" ng-if="viewOffer['offer-group']!='PROPOSITION'">
                        <div class="row">
                            <div class="col-md-3">
                            </div>
                            <div class="col-md-2 text-right" style="top: 5px;">
                                <label>Effective Date</label>
                            </div>
                            <div class="col-md-3">
                                <input ng-disabled="true" type="text" ng-model="viewOffer['effective-date']" class="form-control">
                            </div>
                            <div class="col-md-3">
                            </div>
                        </div> &nbsp;
                    </div>
                    <div calss="form-group" ng-if="viewOffer['offer-group']!='PROPOSITION'">
                        <div class="row">
                            <div class="col-md-3">
                            </div>
                            <div class="col-md-2 text-right" style="top: 5px;">
                                <label>Expiration Date</label>
                            </div>
                            <div class="col-md-3">
                                <input ng-disabled="true" type="text" ng-model="viewOffer['expiration-date']" class="form-control">
                            </div>
                            <div class="col-md-3">
                            </div>
                        </div>
                    </div> 
                </div>
            </div>
            <div class="modalOffer-footer">
                <div class="col-xs-12">
                    <button type="button" class="btn btn-cancel" data-dismiss="modal" ng-click="onCancelViewOffer();" style="margin-top: -0px;">ปิด</button>    
                </div>
                <!-- <button class="btn btn-success btnPrintOffer" data-dismiss="modal" ng-click="disableEditOffer(); onCancelPricePlan();" style="margin-top: -0px;">ตกลง</button> -->
            </div>
            <br>
            <br>
        </div>
    </div>
</div>
<!-- End modal view offer -->

<!-- Start Submit Modal -->
<div id="modalSubmit" tabindex="-1" class="modal fade" data-backdrop="static" data-keyboard="false">
    <div class="modal-dialog" style="width: 350px;">
        <div class="modal-content">
            <!-- <div class="modalOffer-header" style="background: #c72230">
                <div style="font-size: 1.5em; color:white">ยืนยันการทำรายการ</div>
            </div>
            &nbsp;&nbsp;
 -->
            <!--<div class="modal-header">
                <button type="button" id="btnReadCardClose" class="close" data-dismiss="modal">&times;</button>
                <h5>Price Plan</h5>

            </div>-->
            <div class="modal-body">
                <div class="table-responsive" style="overflow-x:hidden;">
                    <div align="center">
                        <h4>ยืนยันการทำรายการ</h4>
                    </div>
                    <div class="row">
                        <div class="col-md-12 form-buttons">
                            <div class="form-group">
                                <input type="button" value="ตกลง" data-toggle="modal" ng-click="confirmPrint();openPDFDialog();" class="btn btn-success" data-dismiss="modal">
                                <input type="reset" value="ยกเลิก" class="btn btn-cancel" data-dismiss="modal">
                            </div>
                        </div>
                    </div>
                    &nbsp;
                </div>
            </div>
        </div>
    </div>
</div>
<!-- End Submit Madal -->
